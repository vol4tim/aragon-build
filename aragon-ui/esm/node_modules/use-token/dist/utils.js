import sha3 from"../../js-sha3/src/sha3.js";const EMPTY_ADDRESS="0x0000000000000000000000000000000000000000",TRUST_WALLET_BASE_URL="https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum",ETHEREUM_DATA={name:"Ethereum",symbol:"ETH"};function tokenDataUrl(t){return`https://raw.githubusercontent.com/ethereum-lists/tokens/master/tokens/eth/${t}.json`}async function fetchTokenData(t){if(t===EMPTY_ADDRESS)return ETHEREUM_DATA;try{t=toChecksumAddress(t.trim())}catch(e){throw new Error(`Invalid address: ${t}`)}try{const e=await fetch(tokenDataUrl(t));if(!e.ok)throw new Error("Wrong HTTP status");return e.json()}catch(t){throw t}}function tokenIconUrl(t=""){try{t=toChecksumAddress(t.trim())}catch(t){return null}return t===EMPTY_ADDRESS?`${TRUST_WALLET_BASE_URL}/info/logo.png`:`${TRUST_WALLET_BASE_URL}/assets/${t}/logo.png`}function toChecksumAddress(t){if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,"");const e=sha3.keccak_256(t).replace(/^0x/i,"");let r="0x";for(let s=0;s<t.length;s++)parseInt(e[s],16)>7?r+=t[s].toUpperCase():r+=t[s];return r}export{fetchTokenData,tokenIconUrl};