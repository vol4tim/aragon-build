import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import slicedToArray from"../../../node_modules/@babel/runtime/helpers/slicedToArray.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import defineProperty from"../../../node_modules/@babel/runtime/helpers/defineProperty.js";import _styled from"styled-components";import React,{useCallback}from"react";import propTypes from"../../../node_modules/prop-types/index.js";import FocusVisible from"../FocusVisible/FocusVisible.js";import{useTheme}from"../../theme/Theme2.js";import{KEY_ENTER}from"../../utils/keycodes.js";import{unselectable}from"../../utils/css.js";import{RADIUS}from"../../style/constants.js";import{warnOnce}from"../../utils/environment.js";import{textStyle}from"../../style/text-styles.js";function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function getElementProps(e){var o=e.element,t=e.href,n=e.disabled,r=e.external;return"button"===o?["button",{type:"button",disabled:n}]:"a"===o&&t?["anchor",n?{}:_objectSpread({href:t,rel:"noopener noreferrer"},r?{target:"_blank"}:{})]:["basic",{role:"button",tabIndex:n?"-1":"0"}]}var _StyledButton=_styled("button").withConfig({displayName:"ButtonBase___StyledButton",componentId:"ur1q76-0"})(["position:relative;display:inline-block;padding:0;white-space:nowrap;",";text-decoration:none;text-align:center;background:none;border-radius:","px;border:0;outline:0;cursor:",";",";&::-moz-focus-inner{border:0;}&:focus:after{content:'';display:",";position:absolute;top:","px;left:","px;right:","px;bottom:","px;border-radius:","px;border:2px solid ",";}"],(function(e){return e._css}),RADIUS,(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}),(function(e){return e._css5}),(function(e){return e._css6}),(function(e){return e._css7}),(function(e){return e._css8}),(function(e){return e._css9}),(function(e){return e._css10}));function ButtonBase(e){var o=e.disabled,t=e.element,n=e.external,r=e.focusRingRadius,s=e.focusRingSpacing,i=e.focusVisible,c=e.href,u=e.innerRef,p=e.onClick,a=e.onKeyDown,l=e.showFocusRing,f=objectWithoutProperties(e,["disabled","element","external","focusRingRadius","focusRingSpacing","focusVisible","href","innerRef","onClick","onKeyDown","showFocusRing"]),d=useTheme();void 0===n&&(n=Boolean(c)),"number"==typeof s&&(s=[s,s]),t||(t=c?"a":"button");var b=getElementProps({element:t,href:c,disabled:o,external:n}),y=slicedToArray(b,2),m=y[0],_=y[1],h=useCallback((function(e){"basic"===m&&e.keyCode===KEY_ENTER&&p&&p(),a&&a(e)}),[m,p,a]);return React.createElement(_StyledButton,_extends_1({as:t,ref:u,onClick:o?void 0:p,onKeyDown:o?void 0:h},_,f,{_css:textStyle("body3"),_css2:o?"default":"pointer",_css3:"basic"===m?unselectable:"",_css4:i&&l?"block":"none",_css5:-s[1],_css6:-s[0],_css7:-s[0],_css8:-s[1],_css9:r,_css10:d.focus}))}ButtonBase.propTypes={disabled:propTypes.bool,external:propTypes.bool,focusRingRadius:propTypes.number,focusRingSpacing:propTypes.oneOfType([propTypes.number,propTypes.arrayOf(propTypes.number)]),focusVisible:propTypes.bool,href:propTypes.string,innerRef:propTypes.any,onClick:propTypes.func,onKeyDown:propTypes.func,showFocusRing:propTypes.bool,element:propTypes.oneOf(["button","div","a"])},ButtonBase.defaultProps={disabled:!1,focusRingRadius:0,focusRingSpacing:0,showFocusRing:!0};var ButtonBaseWithFocus=React.forwardRef((function(e,o){var t=e.onFocus,n=objectWithoutProperties(e,["onFocus"]);return React.createElement(FocusVisible,null,(function(e){var r=e.focusVisible,s=e.onFocus;return React.createElement(ButtonBase,_extends_1({innerRef:o,onFocus:function(e){t&&t(e),s(e)},focusVisible:r},n))}))}));ButtonBaseWithFocus.propTypes=_objectSpread(_objectSpread({},ButtonBase.propTypes),{},{onFocus:propTypes.func});var LinkBase=React.forwardRef((function(e,o){return warnOnce("LinkBase","LinkBase is deprecated: please use ButtonBase with a href prop instead."),React.createElement(ButtonBase,_extends_1({ref:o},e))}));export default ButtonBaseWithFocus;export{LinkBase};