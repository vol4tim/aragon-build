import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import classCallCheck from"../../../node_modules/@babel/runtime/helpers/classCallCheck.js";import createClass from"../../../node_modules/@babel/runtime/helpers/createClass.js";import assertThisInitialized from"../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js";import inherits from"../../../node_modules/@babel/runtime/helpers/inherits.js";import possibleConstructorReturn from"../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js";import getPrototypeOf from"../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js";import defineProperty from"../../../node_modules/@babel/runtime/helpers/defineProperty.js";import React from"react";import propTypes from"../../../node_modules/prop-types/index.js";import CheckBoxWithTheme from"./Checkbox.js";import{RadioGroupConsumer as Consumer}from"../Radio/RadioGroup.js";import{noop}from"../../utils/miscellaneous.js";function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var o,r=getPrototypeOf(e);if(t){var n=getPrototypeOf(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var KEYS_PREV=["ArrowUp","ArrowLeft","Up","Left"],KEYS_NEXT=["ArrowDown","ArrowRight","Down","Right"],RadioButton=function(e){inherits(o,e);var t=_createSuper(o);function o(){var e;classCallCheck(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),defineProperty(assertThisInitialized(e),"_element",React.createRef()),defineProperty(assertThisInitialized(e),"handleKeyDown",(function(t){var o=e.props,r=o.selectPrev,n=o.selectNext;KEYS_PREV.includes(t.key)&&(r(),t.preventDefault()),KEYS_NEXT.includes(t.key)&&(n(),t.preventDefault())})),defineProperty(assertThisInitialized(e),"handleChange",(function(){var t=e.props,o=t.onChange,r=t.id;o&&o(r)})),e}return createClass(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.addRadio,o=e.id;t&&null!==o&&t(o)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.removeRadio,o=e.id;t&&null!==o&&t(o)}},{key:"componentDidUpdate",value:function(e){this.props.checked&&!e.checked&&this._element.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.checked,o=e.disabled;e.id,e.onChange;var r=e.tabIndex,n=objectWithoutProperties(e,["checked","disabled","id","onChange","tabIndex"]);return React.createElement(CheckBoxWithTheme,_extends_1({ref:this._element,checked:t,disabled:o,onChange:this.handleChange,onKeyDown:this.handleKeyDown,tabIndex:r,variant:"radio"},n))}}]),o}(React.PureComponent);defineProperty(RadioButton,"propTypes",{addRadio:propTypes.func,checked:propTypes.bool,disabled:propTypes.bool,id:propTypes.oneOfType([propTypes.string,propTypes.number]),onChange:propTypes.func,removeRadio:propTypes.func,selectNext:propTypes.func,selectPrev:propTypes.func,tabIndex:propTypes.string}),defineProperty(RadioButton,"defaultProps",{addRadio:noop,checked:!1,disabled:!1,id:null,onChange:void 0,removeRadio:noop,selectNext:noop,selectPrev:noop});var Radio=function(e){inherits(o,e);var t=_createSuper(o);function o(){return classCallCheck(this,o),t.apply(this,arguments)}return createClass(o,[{key:"render",value:function(){var e=this.props;return React.createElement(Consumer,null,(function(t){var o=t.onChange,r=t.selected,n=t.focusableId,i=t.addRadio,s=t.removeRadio,a=t.selectNext,p=t.selectPrev;return React.createElement(RadioButton,_extends_1({},e,{onChange:e.onChange||o,checked:e.checked||e.id===r&&null!==r,tabIndex:e.tabIndex||(void 0===n||e.id===n?"0":"-1"),addRadio:i,removeRadio:s,selectPrev:p,selectNext:a}))}))}}]),o}(React.PureComponent);defineProperty(Radio,"propTypes",RadioButton.propTypes),defineProperty(Radio,"defaultProps",RadioButton.defaultProps);export default Radio;