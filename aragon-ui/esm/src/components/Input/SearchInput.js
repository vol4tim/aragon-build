import defineProperty from"../../../node_modules/@babel/runtime/helpers/defineProperty.js";import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import _styled from"styled-components";import React,{useRef,useCallback}from"react";import ButtonIcon from"../Button/ButtonIcon.js";import WrapperTextInput from"./TextInput.js";import IconSearch from"../../icons/components/IconSearch.js";import{useTheme}from"../../theme/Theme2.js";import IconCross from"../../icons/components/IconCross.js";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var EMPTY="",_StyledIconSearch=_styled(IconSearch).withConfig({displayName:"SearchInput___StyledIconSearch",componentId:"sc-13u679s-0"})(["color:",";"],(function(e){return e._css})),_StyledButtonIcon=_styled(ButtonIcon).withConfig({displayName:"SearchInput___StyledButtonIcon",componentId:"sc-13u679s-1"})(["color:",";"],(function(e){return e._css2})),SearchInput=React.forwardRef((function(e,t){var r=e.onChange,o=objectWithoutProperties(e,["onChange"]),n=useTheme(),c=useRef(),s=t||c,a=useCallback((function(e){var t=e.currentTarget.value;r(t,{inputChangeEvent:e})}),[r]),p=useCallback((function(e){r(EMPTY,{clearClickEvent:e}),s.current&&s.current.focus()}),[r,s]);return React.createElement(WrapperTextInput,_extends_1({ref:s,adornment:(o.value||"")===EMPTY?React.createElement(_StyledIconSearch,{_css:n.surfaceIcon}):React.createElement(_StyledButtonIcon,{onClick:p,label:"Clear search input",_css2:n.surfaceIcon},React.createElement(IconCross,null)),adornmentPosition:"end",onChange:a},o))}));SearchInput.propTypes=_objectSpread({},WrapperTextInput.propTypes);export default SearchInput;