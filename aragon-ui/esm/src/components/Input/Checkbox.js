import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import classCallCheck from"../../../node_modules/@babel/runtime/helpers/classCallCheck.js";import createClass from"../../../node_modules/@babel/runtime/helpers/createClass.js";import assertThisInitialized from"../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js";import inherits from"../../../node_modules/@babel/runtime/helpers/inherits.js";import possibleConstructorReturn from"../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js";import getPrototypeOf from"../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js";import defineProperty from"../../../node_modules/@babel/runtime/helpers/defineProperty.js";import _styled from"styled-components";import React from"react";import propTypes from"../../../node_modules/prop-types/index.js";import{animated as extendedAnimated,Spring}from"../../../node_modules/react-spring/web.js";import FocusVisible from"../FocusVisible/FocusVisible.js";import{useTheme}from"../../theme/Theme2.js";import{springs}from"../../style/springs.js";import{GU,RADIUS}from"../../style/constants.js";import{noop}from"../../utils/miscellaneous.js";function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=getPrototypeOf(e);if(t){var o=getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var SIZE=18,CHECKBOX_RADIUS=2,RADIO_BULLET_SIZE=10,_StyledAnimatedSpan=_styled(extendedAnimated.span).withConfig({displayName:"Checkbox___StyledAnimatedSpan",componentId:"sc-1avgrx5-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;transform-origin:50% 50%;"]),_StyledButton=_styled("button").withConfig({displayName:"Checkbox___StyledButton",componentId:"sc-1avgrx5-1"})(["display:inline-flex;position:relative;width:","px;height:","px;margin:","px;padding:0;background:",";border:1px solid ",";border-radius:",";outline:0;&::-moz-focus-inner{border:0;}",";"],SIZE,SIZE,(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}),(function(e){return e._css5})),_StyledSpan=_styled("span").withConfig({displayName:"Checkbox___StyledSpan",componentId:"sc-1avgrx5-2"})(["position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;border:2px solid ",";border-radius:",";display:none;"],(function(e){return e._css6}),(function(e){return e._css7})),Checkbox=function(e){inherits(r,e);var t=_createSuper(r);function r(){var e;classCallCheck(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),defineProperty(assertThisInitialized(e),"_element",React.createRef()),defineProperty(assertThisInitialized(e),"handleKeyPress",(function(e){e.preventDefault()})),defineProperty(assertThisInitialized(e),"handleClick",(function(t){var r=e.props,n=r.onChange,o=r.checked;n(!r.indeterminate&&!o)})),defineProperty(assertThisInitialized(e),"focus",(function(){e._element.current.focus()})),e}return createClass(r,[{key:"getAriaChecked",value:function(){var e=this.props,t=e.checked;return e.indeterminate?"mixed":t?"true":"false"}},{key:"renderCheck",value:function(e,t){var r=this.props,n=r.disabled,o=r.theme;return React.createElement(Spring,{from:{progress:0},to:{progress:Number(e)},config:springs.instant,native:!0},(function(e){var r=e.progress;return React.createElement(_StyledAnimatedSpan,{style:{opacity:r,transform:r.interpolate((function(e){return"scale(".concat(e,")")}))}},React.createElement(t,{color:n?o.selectedDisabled:o.selected}))}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.checked,n=t.disabled,o=t.indeterminate,s=t.tabIndex,i=t.theme,c=t.variant,a=objectWithoutProperties(t,["checked","disabled","indeterminate","tabIndex","theme","variant"]);return React.createElement(FocusVisible,null,(function(t){var l=t.focusVisible,d=t.onFocus;return React.createElement(_StyledButton,_extends_1({type:"button",ref:e._element,role:c,tabIndex:s,"aria-checked":e.getAriaChecked(),onClick:e.handleClick,onKeyPress:e.handleKeyPress,onFocus:d,disabled:n},a,{_css:.5*GU,_css2:n?i.controlDisabled:i.control,_css3:i.controlBorder,_css4:"radio"===c?"50%":"".concat(CHECKBOX_RADIUS,"px"),_css5:n?"":"\n                    cursor: pointer;\n                    &:active {\n                      border-color: ".concat(i.controlBorderPressed,";\n                    }\n                    &:focus .focus-ring {\n                      display: ").concat(l?"block":"none",";\n                    }\n                  ")}),"checkbox"===c&&e.renderCheck(r&&!o,Check),"checkbox"===c&&e.renderCheck(o,Dash),"radio"===c&&e.renderCheck(r,Bullet),React.createElement(_StyledSpan,{className:"focus-ring",_css6:i.focus,_css7:"radio"===c?"50%":"".concat(RADIUS,"px")}))}))}}]),r}(React.PureComponent);defineProperty(Checkbox,"propTypes",{checked:propTypes.bool,disabled:propTypes.bool,indeterminate:propTypes.bool,onChange:propTypes.func,tabIndex:propTypes.string,theme:propTypes.object,variant:propTypes.oneOf(["checkbox","radio"])}),defineProperty(Checkbox,"defaultProps",{checked:!1,disabled:!1,indeterminate:!1,onChange:noop,tabIndex:"0",variant:"checkbox"});var Dash=function(e){var t=e.color;return React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},React.createElement("line",{x1:"3",y1:"7",x2:"11",y2:"7",stroke:t,strokeWidth:"1.5"}))},Check=function(e){var t=e.color;return React.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8"},React.createElement("path",{d:"\n        M11.059 1.393\n        L4.335  7.395\n        L0.944  3.260\n        L2.104  2.309\n        L4.503  5.234\n        L10.060 0.274\n        L11.059 1.393\n        Z\n      ",fill:t}))},_StyledSpan2=_styled("span").withConfig({displayName:"Checkbox___StyledSpan2",componentId:"sc-1avgrx5-3"})(["display:block;width:","px;height:","px;border-radius:50%;background:",";"],RADIO_BULLET_SIZE,RADIO_BULLET_SIZE,(function(e){return e._css8})),Bullet=function(e){var t=e.color;return React.createElement(_StyledSpan2,{_css8:t})},CheckBoxWithTheme=React.forwardRef((function(e,t){var r=useTheme();return React.createElement(Checkbox,_extends_1({theme:r,ref:t},e))}));export default CheckBoxWithTheme;