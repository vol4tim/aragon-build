import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import classCallCheck from"../../../node_modules/@babel/runtime/helpers/classCallCheck.js";import createClass from"../../../node_modules/@babel/runtime/helpers/createClass.js";import assertThisInitialized from"../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js";import inherits from"../../../node_modules/@babel/runtime/helpers/inherits.js";import possibleConstructorReturn from"../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js";import getPrototypeOf from"../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js";import defineProperty from"../../../node_modules/@babel/runtime/helpers/defineProperty.js";import _styled,{css}from"styled-components";import React from"react";import propTypes from"../../../node_modules/prop-types/index.js";import{animated as extendedAnimated,Transition}from"../../../node_modules/react-spring/web.js";import{Inside as i}from"../../../node_modules/use-inside/dist/index.js";import Text from"../Text/Text.js";import chevronSvg from"./assets/chevron.svg.js";import{useTheme}from"../../theme/Theme2.js";import{PublicUrl}from"../../providers/PublicUrl/PublicUrl.js";import{unselectable}from"../../utils/css.js";import{springs}from"../../style/springs.js";import{noop}from"../../utils/miscellaneous.js";function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,i=getPrototypeOf(e);if(t){var n=getPrototypeOf(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var BAR_HEIGHT=64,_StyledDiv=_styled("div").withConfig({displayName:"AppBar___StyledDiv",componentId:"sc-11q0awo-0"})(["overflow:hidden;display:flex;flex-direction:column;width:100%;min-height:","px;background:",";",";padding-bottom:1px;&:after{content:'';position:absolute;left:0;right:0;bottom:0;border-bottom:1px solid ",";}"],BAR_HEIGHT,(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3})),_StyledDiv2=_styled("div").withConfig({displayName:"AppBar___StyledDiv2",componentId:"sc-11q0awo-1"})(["display:flex;align-items:center;justify-content:flex-start;width:100%;height:","px;"],(function(e){return e._css4})),_StyledDiv3=_styled("div").withConfig({displayName:"AppBar___StyledDiv3",componentId:"sc-11q0awo-2"})(["display:flex;align-items:center;height:100%;padding-left:","px;"],(function(e){return e._css5})),_StyledDiv4=_styled("div").withConfig({displayName:"AppBar___StyledDiv4",componentId:"sc-11q0awo-3"})(["display:flex;align-items:center;height:100%;margin-left:auto;padding-right:","px;"],(function(e){return e._css6})),AppBar=function(e){inherits(r,e);var t=_createSuper(r);function r(){var e;classCallCheck(this,r);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),defineProperty(assertThisInitialized(e),"state",{tabsHeight:0}),defineProperty(assertThisInitialized(e),"_tabsRef",React.createRef()),e}return createClass(r,[{key:"componentDidMount",value:function(){this.updateTabsHeight()}},{key:"componentDidUpdate",value:function(e){Boolean(e.tabs)!==Boolean(this.props.tabs)&&this.updateTabsHeight()}},{key:"updateTabsHeight",value:function(){var e=this._tabsRef.current;e&&this.setState({tabsHeight:e.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.tabsHeight,r=this.props,n=r.children,o=r.endContent,s=r.onTitleClick,a=r.padding,p=r.tabs,l=r.title,c=r.theme,d=objectWithoutProperties(r,["children","endContent","onTitleClick","padding","tabs","title","theme"]);return React.createElement(i,{name:"AppBar"},React.createElement(_StyledDiv,{_css:c.surface,_css2:unselectable(),_css3:c.border},React.createElement(_StyledDiv2,_extends_1({},d,{_css4:BAR_HEIGHT-1}),l&&React.createElement(_StyledDiv3,{_css5:a},React.createElement(AppBarTitle,{chevron:Boolean(n),clickable:Boolean(s),onClick:s},"string"==typeof l?React.createElement(Text,{size:"xxlarge",deprecationNotice:!1},l):l)),n,o&&React.createElement(_StyledDiv4,{_css6:a},o)),React.createElement(Transition,{items:p,from:{opacity:0,height:0},enter:{opacity:1,height:t||"auto"},leave:{opacity:0,height:0},initial:null,config:springs.smooth,native:!0},(function(t){return t&&function(r){return React.createElement(TabsWrapper,{style:r},React.createElement("div",{ref:e._tabsRef},t))}}))))}}]),r}(React.Component);defineProperty(AppBar,"propTypes",{children:propTypes.node,endContent:propTypes.node,onTitleClick:propTypes.func,padding:propTypes.number,tabs:propTypes.element,theme:propTypes.object,title:propTypes.node}),defineProperty(AppBar,"defaultProps",{onTitleClick:noop,padding:30,title:""});var AppBarTitle=PublicUrl.hocWrap(_styled.h1.withConfig({displayName:"AppBar__AppBarTitle",componentId:"sc-11q0awo-4"})(["padding-right:20px;margin-right:calc(20px - 7px);white-space:nowrap;background-image:",";background-position:100% 50%;background-repeat:no-repeat;cursor:",";"],(function(e){return e.chevron?css(["url(",")"],PublicUrl.styledUrl(chevronSvg)):"none"}),(function(e){return e.clickable?"pointer":"default"}))),TabsWrapper=_styled(extendedAnimated.div).withConfig({displayName:"AppBar__TabsWrapper",componentId:"sc-11q0awo-5"})(["position:relative;z-index:1;"]);function AppBar$1(e){var t=useTheme();return React.createElement(AppBar,_extends_1({},e,{theme:t}))}export default AppBar$1;