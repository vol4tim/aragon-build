import defineProperty from"../../../node_modules/@babel/runtime/helpers/defineProperty.js";import _styled,{keyframes}from"styled-components";import React from"react";import ExtendedPropTypes from"../../proptypes.js";import{useSpring,interpolate as interpolate$1,animated as extendedAnimated}from"../../../node_modules/react-spring/hooks.js";import{warnOnce}from"../../utils/environment.js";import{useTheme}from"../../theme/Theme2.js";import{springs}from"../../style/springs.js";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var RADIUS=2,BAR_HEIGHT=6,INDETERMINATE_WIDTH=1/4,INDETERMINATE_DURATION=1600,indeterminateAnim=keyframes(["0%{transform:translate3d(calc(-100% - 1px),0,0);}70%,100%{transform:translate3d(calc(","% + 1px),0,0);}"],100/INDETERMINATE_WIDTH),_StyledDiv=_styled("div").withConfig({displayName:"ProgressBar___StyledDiv",componentId:"sc-1gly9sn-0"})(["width:100%;height:","px;background:",";border-radius:","px;overflow:hidden;"],BAR_HEIGHT,(function(e){return e._css}),RADIUS),ProgressBar=React.memo((function(e){var r=e.animate,t=e.color,n=e.progress,o=e.value;-1===o&&"number"==typeof n&&(o=n,warnOnce("ProgressBar:progress","The `progress` prop of ProgressBar is deprecated: please use `value` instead."));var s=-1===o,a=useTheme(),i=void 0===t?a.accent:t,p=useSpring({config:_objectSpread(_objectSpread({},springs.smooth),{},{precision:.001}),from:{scale:0,x:0},to:{scale:o,x:0},immediate:!r});return React.createElement(_StyledDiv,{_css:a.surfaceUnder},React.createElement(Bar,{style:{width:"".concat(100*(s?INDETERMINATE_WIDTH:1),"%"),background:i,borderRadius:"".concat(s?RADIUS:0,"px"),animationName:"".concat(s?indeterminateAnim.name:"none"),transform:interpolate$1([p.x,p.scale],(function(e,r){return"translate3d(".concat(100*e,"%, 0, 0) scale3d(").concat(r,", 1, 1)")}))}}))})),Bar=_styled(extendedAnimated.div).withConfig({displayName:"ProgressBar__Bar",componentId:"sc-1gly9sn-1"})(["width:100%;height:","px;transform-origin:0 0;animation:"," ","ms ease-in-out infinite;animation-name:none;"],BAR_HEIGHT,indeterminateAnim,INDETERMINATE_DURATION);ProgressBar.defaultProps={animate:!0,value:-1},ProgressBar.propTypes={animate:ExtendedPropTypes.bool,color:ExtendedPropTypes.string,progress:ExtendedPropTypes._0to1,value:ExtendedPropTypes.oneOfType([ExtendedPropTypes._0to1,ExtendedPropTypes.oneOf([-1])])};export default ProgressBar;