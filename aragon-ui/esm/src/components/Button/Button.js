import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import slicedToArray from"../../../node_modules/@babel/runtime/helpers/slicedToArray.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import _styled from"styled-components";import React,{useMemo}from"react";import propTypes from"../../../node_modules/prop-types/index.js";import{useInside as o,Inside as i}from"../../../node_modules/use-inside/dist/index.js";import{useLayout}from"../Layout/Layout.js";import ButtonBaseWithFocus from"../ButtonBase/ButtonBase.js";import{warnOnce,warn}from"../../utils/environment.js";import{useTheme}from"../../theme/Theme2.js";import{unselectable}from"../../utils/css.js";import{textStyle}from"../../style/text-styles.js";import{RADIUS,GU}from"../../style/constants.js";var SIZE_STYLES={medium:{textStyleName:"body2",height:5*GU,padding:3*GU,iconPadding:2*GU,minWidth:14.5*GU,middleSpace:1*GU},small:{textStyleName:"body2",height:4*GU,padding:2*GU,iconPadding:1.5*GU,minWidth:13*GU,middleSpace:1*GU},mini:{textStyleName:"body4",height:3*GU,padding:1.5*GU,iconPadding:1*GU,minWidth:9.25*GU,middleSpace:.5*GU}};function getPadding(e,t,n){var o=SIZE_STYLES[e],i=o.padding,r=o.iconPadding;return t&&!n?"0":t&&n?"0 ".concat(i,"px 0 ").concat(r,"px"):"0 ".concat(i,"px")}function getWidth(e,t,n){var o=SIZE_STYLES[e].height;return n?"100%":t?"".concat(o,"px"):"auto"}function getMinWidth(e,t){var n=SIZE_STYLES[e].minWidth;return t?"".concat(n,"px"):"0"}function sizeStyles(e,t,n,o){var i=SIZE_STYLES[e],r=i.height,s=i.textStyleName,a=i.middleSpace;return{height:"".concat(r,"px"),middleSpace:n&&o?"".concat(a,"px"):"0",minWidth:getMinWidth(e,!n&&o),padding:getPadding(e,n,o),textStyleCss:textStyle(s),width:getWidth(e,n&&!o,t)}}function modeStyles(e,t,n){return n?{background:e.disabled,color:e.disabledContent,iconColor:e.disabledContent,border:"0"}:"strong"===t?{background:"\n        linear-gradient(\n          190deg,\n          ".concat(e.accentStart," -100%,\n          ").concat(e.accentEnd," 80%\n        )\n      "),color:e.accentContent,iconColor:e.accentContent,border:"0"}:"positive"===t?{background:e.positive,color:e.positiveContent,iconColor:e.positiveContent,border:"0"}:"negative"===t?{background:e.negative,color:e.negativeContent,iconColor:e.negativeContent,border:"0"}:{background:e.surfaceInteractive,color:e.surfaceContent,iconColor:e.surfaceIcon,border:"1px solid ".concat(e.border)}}var _StyledButtonBase=_styled(ButtonBaseWithFocus).withConfig({displayName:"Button___StyledButtonBase",componentId:"sc-8npd5h-0"})(["display:",";align-items:center;justify-content:center;width:",";height:",";min-width:",";padding:",";",";",";background:",";color:",";white-space:nowrap;border:",";box-shadow:",";transition-property:transform,box-shadow;transition-duration:50ms;transition-timing-function:ease-in-out;&:active{transform:",";box-shadow:",";}"],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}),(function(e){return e._css5}),(function(e){return e._css6}),unselectable,(function(e){return e._css7}),(function(e){return e._css8}),(function(e){return e._css9}),(function(e){return e._css10}),(function(e){return e._css11}),(function(e){return e._css12})),_StyledSpan=_styled("span").withConfig({displayName:"Button___StyledSpan",componentId:"sc-8npd5h-1"})(["position:relative;top:-1px;display:flex;color:",";margin-right:",";"],(function(e){return e._css13}),(function(e){return e._css14}));function Button(e){var t=e.children,n=e.disabled,r=e.display,s=e.icon,a=e.iconOnly,c=e.innerRef,d=e.label,l=e.mode,u=e.size,p=e.wide,m=objectWithoutProperties(e,["children","disabled","display","icon","iconOnly","innerRef","label","mode","size","wide"]);a&&(warnOnce("Button:iconOnly",'Button: "iconOnly" is deprecated, please use "display".'),r="icon"),"outline"!==l&&"secondary"!==l||(warnOnce("Button:mode",'Button: the mode "'.concat(l,'" is deprecated, please use "normal".')),l="normal"),"normal"!==u&&"large"!==u||(warnOnce("Button:size",'Button: the size "'.concat(u,'" is deprecated, please use "medium".')),u="medium"),"icon"!==r||s||warn('Button: the display "icon" was used without providing an icon.'),t||d||warn("Button: please provide a label.");var f=useTheme(),y=useLayout().layoutName,h=o("EmptyStateCard"),g=slicedToArray(h,1)[0],_=o("Header:secondary"),b=slicedToArray(_,1)[0];g&&(l="strong",p=!0),b&&"auto"===r&&s&&d&&(r="small"===y?"icon":"label"),"auto"===r&&(r="all");var S=s&&("all"===r||"icon"===r),x=d&&("all"===r||"label"===r),B=useMemo((function(){return modeStyles(f,l,n)}),[l,f,n]),w=B.background,v=B.color,R=B.iconColor,T=B.border,C=useMemo((function(){return sizeStyles(u,p,S,x)}),[u,p,S,x]),E=C.height,W=C.middleSpace,U=C.minWidth,j=C.padding,G=C.textStyleCss,I=C.width;S&&!x&&d&&"string"==typeof d&&(m.title=d);var O={size:u};return React.createElement(_StyledButtonBase,_extends_1({ref:c,focusRingSpacing:"0"===T?0:1,focusRingRadius:RADIUS,disabled:n},m,{_css:p?"flex":"inline-flex",_css2:I,_css3:E,_css4:U,_css5:j,_css6:G,_css7:w,_css8:v,_css9:T,_css10:n?"none":"0 1px 3px rgba(0, 0, 0, 0.1)",_css11:n?"none":"translateY(1px)",_css12:n?"none":"0px 1px 2px rgba(0, 0, 0, 0.08)"}),React.createElement(i,{name:"Button",data:O},t||React.createElement(React.Fragment,null,S&&React.createElement(i,{name:"Button:icon",data:O},React.createElement(_StyledSpan,{_css13:R,_css14:W},s)),x&&React.createElement(i,{name:"Button:label",data:O},d))))}Button.propTypes={children:propTypes.node,disabled:propTypes.bool,display:propTypes.oneOf(["auto","all","icon","label"]),icon:propTypes.node,innerRef:propTypes.any,label:propTypes.string,mode:propTypes.oneOf(["normal","strong","positive","negative","outline","secondary","text"]),size:propTypes.oneOf(["medium","small","mini","large","normal"]),wide:propTypes.bool,iconOnly:propTypes.bool},Button.defaultProps={disabled:!1,display:"auto",mode:"normal",size:"medium",wide:!1};var ButtonWithRef=React.forwardRef((function(e,t){return React.createElement(Button,_extends_1({innerRef:t},e))}));ButtonWithRef.Anchor=React.forwardRef((function(e,t){return warnOnce("Button.Anchor","Button.Anchor is deprecated: please use Button with a href prop instead."),React.createElement(ButtonWithRef,_extends_1({ref:t},e))}));export default ButtonWithRef;