import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import slicedToArray from"../../../node_modules/@babel/runtime/helpers/slicedToArray.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import _styled from"styled-components";import React,{useRef,useState,useCallback}from"react";import propTypes from"../../../node_modules/prop-types/index.js";import BadgeBase from"../BadgeBase/BadgeBase.js";import BadgePopoverActionType from"../BadgeBase/BadgePopoverActionType.js";import EthIdenticon from"../EthIdenticon/EthIdenticon.js";import IdentityBadgePopover from"./IdentityBadgePopover.js";import{isAddress,shortenAddress}from"../../utils/web3.js";import{warnOnce}from"../../utils/environment.js";import{GU}from"../../style/constants.js";import{textStyle}from"../../style/text-styles.js";var _StyledDiv=_styled("div").withConfig({displayName:"IdentityBadge___StyledDiv",componentId:"q71pax-0"})(["display:block;margin-right:","px;",";"],(function(e){return e._css}),(function(e){return e._css2})),IdentityBadge=React.memo((function(e){var t=e.badgeOnly,o=e.compact,n=e.connectedAccount,r=e.entity,s=e.label,p=e.labelStyle,i=e.networkType,a=e.popoverAction,l=e.popoverTitle,d=e.shorten,c=e.customLabel,y=e.fontSize,m=objectWithoutProperties(e,["badgeOnly","compact","connectedAccount","entity","label","labelStyle","networkType","popoverAction","popoverTitle","shorten","customLabel","fontSize"]);c&&(warnOnce("IdentityBadge:customLabel","The “customLabel” prop is deprecated. Please use “label” instead."),s=s||c),y&&warnOnce("IdentityBadge:fontSize","The “fontSize” prop is deprecated. Please use “labelStyle” to style the label instead.");var u=useRef(null),b=useState(!1),f=slicedToArray(b,2),g=f[0],T=f[1],v=useCallback((function(){return T(!1)}),[]),B=useCallback((function(){return T(!0)}),[]),h=isAddress(r)?r:null,_=s||(h&&d?shortenAddress(h):r);return React.createElement(BadgeBase,_extends_1({badgeRef:u,compact:o,disabled:t,icon:h&&React.createElement(_StyledDiv,{_css:1*GU,_css2:o?"\n                  position: relative;\n                  top: -1px;\n                ":""},React.createElement(EthIdenticon,{scale:o?.75:1,radius:o?2:0,address:h})),label:_,labelStyle:"\n        ".concat(!s&&h?textStyle("address1"):"","\n        ").concat(p,"\n      "),onClick:h?B:void 0,title:h},m),(function(e){return!e&&h&&React.createElement(IdentityBadgePopover,{address:h,connectedAccount:n,networkType:i,onClose:v,opener:u.current,popoverAction:a,title:l,visible:g})}))}));IdentityBadge.propTypes={badgeOnly:propTypes.bool,compact:propTypes.bool,connectedAccount:propTypes.bool,entity:propTypes.string,label:propTypes.string,labelStyle:propTypes.string,networkType:propTypes.string,popoverAction:BadgePopoverActionType,popoverTitle:propTypes.node,shorten:propTypes.bool,customLabel:propTypes.string,fontSize:propTypes.string},IdentityBadge.defaultProps={entity:"",labelStyle:"",networkType:"main",shorten:!0};export default IdentityBadge;