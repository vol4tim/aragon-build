import _styled from"styled-components";import React from"react";import ExtendedPropTypes from"../../proptypes.js";import ButtonIcon from"../Button/ButtonIcon.js";import Info from"../Info/Info.js";import Link from"../Link/Link.js";import Popover from"../Popover/Popover.js";import ProgressBar from"../ProgressBar/ProgressBar.js";import Timer from"../Timer/Timer.js";import{useTheme}from"../../theme/Theme2.js";import IconCross from"../../icons/components/IconCross.js";import{GU}from"../../style/constants.js";import{textStyle}from"../../style/text-styles.js";import{noop}from"../../utils/miscellaneous.js";var _StyledSection=_styled("section").withConfig({displayName:"TransactionProgress___StyledSection",componentId:"vvbhu5-0"})(["padding:","px;"],(function(e){return e._css})),_StyledButtonIcon=_styled(ButtonIcon).withConfig({displayName:"TransactionProgress___StyledButtonIcon",componentId:"vvbhu5-1"})(["position:absolute;top:","px;right:","px;"],(function(e){return e._css2}),(function(e){return e._css3})),_StyledH=_styled("h1").withConfig({displayName:"TransactionProgress___StyledH",componentId:"vvbhu5-2"})(["font-weight:600"]),_StyledDiv=_styled("div").withConfig({displayName:"TransactionProgress___StyledDiv",componentId:"vvbhu5-3"})(["display:flex;justify-content:space-between;align-items:flex-end;margin:","px 0 ","px;"],(function(e){return e._css4}),(function(e){return e._css5})),_StyledSpan=_styled("span").withConfig({displayName:"TransactionProgress___StyledSpan",componentId:"vvbhu5-4"})(["",";color:",";"],(function(e){return e._css6}),(function(e){return e._css7})),_StyledProgressBar=_styled(ProgressBar).withConfig({displayName:"TransactionProgress___StyledProgressBar",componentId:"vvbhu5-5"})(["color:",";"],(function(e){return e._css8})),_StyledDiv2=_styled("div").withConfig({displayName:"TransactionProgress___StyledDiv2",componentId:"vvbhu5-6"})(["display:flex;justify-content:",";align-items:center;padding-top:","px;"],(function(e){return e._css9}),(function(e){return e._css10})),_StyledDiv3=_styled("div").withConfig({displayName:"TransactionProgress___StyledDiv3",componentId:"vvbhu5-7"})(["margin-right:","px;"],(function(e){return e._css11})),_StyledLink=_styled(Link).withConfig({displayName:"TransactionProgress___StyledLink",componentId:"vvbhu5-8"})(["text-decoration:none"]),TransactionProgress=React.memo((function(e){var t=e.visible,n=e.slow,o=e.progress,s=e.endTime,r=e.transactionHashUrl,i=e.onClose,a=e.opener,c=useTheme();return React.createElement(Popover,{visible:t,opener:a,onClose:i},React.createElement(_StyledSection,{_css:2*GU},React.createElement(_StyledButtonIcon,{label:"Close",onClick:i,_css2:1*GU,_css3:1*GU},React.createElement(IconCross,null)),React.createElement(_StyledH,null,"Pending transaction"),React.createElement(_StyledDiv,{_css4:2*GU,_css5:1*GU},React.createElement(_StyledSpan,{_css6:textStyle("label2"),_css7:c.contentSecondary},"Estimated time:"),React.createElement(Timer,{format:"ms",end:s})),React.createElement(_StyledProgressBar,{value:o,_css8:c.accent}),React.createElement(_StyledDiv2,{_css9:n?"space-between":"end",_css10:2*GU},n&&React.createElement(_StyledDiv3,{_css11:2*GU},React.createElement(Info.Alert,null,"Slow transaction. Retry with more gas")),React.createElement(_StyledLink,{href:r},"See on Explorer"))))}));TransactionProgress.propTypes={endTime:ExtendedPropTypes.instanceOf(Date),onClose:ExtendedPropTypes.func,opener:ExtendedPropTypes._element,progress:ExtendedPropTypes.number,slow:ExtendedPropTypes.bool,transactionHashUrl:ExtendedPropTypes.string,visible:ExtendedPropTypes.bool},TransactionProgress.defaultProps={onClose:noop,visible:!1};export default TransactionProgress;