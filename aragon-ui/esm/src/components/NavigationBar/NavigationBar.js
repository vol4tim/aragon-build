import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import classCallCheck from"../../../node_modules/@babel/runtime/helpers/classCallCheck.js";import createClass from"../../../node_modules/@babel/runtime/helpers/createClass.js";import assertThisInitialized from"../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js";import inherits from"../../../node_modules/@babel/runtime/helpers/inherits.js";import possibleConstructorReturn from"../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js";import getPrototypeOf from"../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js";import defineProperty from"../../../node_modules/@babel/runtime/helpers/defineProperty.js";import React from"react";import propTypes from"../../../node_modules/prop-types/index.js";import _styled from"styled-components";import{Transition,animated as extendedAnimated}from"../../../node_modules/react-spring/web.js";import LeftIcon from"./LeftIcon.js";import{springs}from"../../style/springs.js";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,o=getPrototypeOf(e);if(t){var n=getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var NavigationBar=function(e){inherits(r,e);var t=_createSuper(r);function r(){var e;classCallCheck(this,r);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),defineProperty(assertThisInitialized(e),"state",{cachedItems:null,direction:-1}),e}return createClass(r,[{key:"render",value:function(){var e=this.props,t=e.onBack,r=e.items,o=e.compact,n=r.map((function(e,t){return{node:e,index:t}})).slice(-1);return React.createElement(Container,null,React.createElement(Transition,{items:n,keys:n.map((function(e){return 1===r.length?-1:e.index})),config:springs.smooth,initial:null,from:{opacity:0,position:-1*this.state.direction},enter:{opacity:1,position:0},leave:{opacity:0,position:this.state.direction},native:!0},(function(e){return function(r){return React.createElement(Item,_extends_1({label:e.node,onBack:t,displayBack:e.index>0,compact:o},r))}})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r={cachedItems:e.items};return t.cachedItems?_objectSpread(_objectSpread({},r),{},{direction:t.cachedItems.length>e.items.length?1:-1}):r}}]),r}(React.Component);defineProperty(NavigationBar,"propTypes",{onBack:propTypes.func,items:propTypes.arrayOf(propTypes.node),compact:propTypes.bool}),defineProperty(NavigationBar,"defaultProps",{onBack:function(){},items:[],compact:!1});var Item=function(e){var t=e.opacity,r=e.position,o=e.displayBack,n=e.onBack,i=e.label,a=e.compact;return React.createElement(extendedAnimated.span,{style:{display:"flex",alignItems:"center",opacity:t,transform:r.interpolate((function(e){return"translate(".concat(20*e,"px, 0)")}))}},React.createElement(Title,null,o&&React.createElement(BackButton,{onClick:n,compact:a},React.createElement(LeftIcon,null)),React.createElement(Label,null,i)))};Item.propTypes={compact:propTypes.bool,displayBack:propTypes.bool,label:propTypes.node,onBack:propTypes.func,opacity:propTypes.object,position:propTypes.object};var Container=_styled.span.withConfig({displayName:"NavigationBar__Container",componentId:"pd4tzi-0"})(["display:flex;position:relative;height:100%;"]),Title=_styled.span.withConfig({displayName:"NavigationBar__Title",componentId:"pd4tzi-1"})(["display:flex;align-items:center;position:absolute;left:0;top:0;bottom:0;"]),Label=_styled.span.withConfig({displayName:"NavigationBar__Label",componentId:"pd4tzi-2"})(["display:flex;height:100%;align-items:center;padding-left:30px;white-space:nowrap;font-size:22px;"]),BackButton=_styled.span.withConfig({displayName:"NavigationBar__BackButton",componentId:"pd4tzi-3"})(["display:flex;align-items:center;height:63px;padding:",";cursor:pointer;svg{color:hsl(179,76%,48%);}:active svg{color:hsl(179,76%,63%);}& + ","{padding-left:0;}"],(function(e){return e.compact?"0 16px":"0 20px 0 30px"}),Label);export default NavigationBar;