import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import _styled from"styled-components";import React,{useContext}from"react";import propTypes from"../../../node_modules/prop-types/index.js";import{animated as extendedAnimated,Transition}from"../../../node_modules/react-spring/web.js";import{Inside as i}from"../../../node_modules/use-inside/dist/index.js";import RootPortal from"../RootPortal/RootPortal.js";import{useViewport}from"../../providers/Viewport/Viewport.js";import{ToastContext}from"../ToastHub/ToastHub.js";import{useTheme}from"../../theme/Theme2.js";import{RADIUS,GU}from"../../style/constants.js";import{springs}from"../../style/springs.js";import{textStyle}from"../../style/text-styles.js";var _StyledDiv=_styled("div").withConfig({displayName:"FloatIndicator___StyledDiv",componentId:"sc-1mhu8xn-0"})(["position:absolute;z-index:1;bottom:","px;display:flex;justify-content:flex-end;width:100%;padding:0 ","px 0 ","px;"],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3})),_StyledAnimatedDiv=_styled(extendedAnimated.div).withConfig({displayName:"FloatIndicator___StyledAnimatedDiv",componentId:"sc-1mhu8xn-1"})(["flex-grow:",";display:flex;align-items:center;height:","px;padding:","px ","px;",";white-space:nowrap;color:",";background:",";border:1px solid ",";border-radius:","px;cursor:default;justify-content:center;"],(function(e){return e._css4}),(function(e){return e._css5}),(function(e){return e._css6}),(function(e){return e._css7}),(function(e){return e._css8}),(function(e){return e._css9}),(function(e){return e._css10}),(function(e){return e._css11}),RADIUS),FloatIndicator=React.memo((function(e){var t=e.children,o=e.visible,s=e.shift,r=objectWithoutProperties(e,["children","visible","shift"]),n=useTheme(),c=useViewport().below,a=useContext(ToastContext).itemsVisible,d=c("medium"),p=d?2*GU:3*GU,l=p+(s||0);return React.createElement(RootPortal,null,React.createElement(Transition,{native:!0,items:!a&&o,from:{progress:0},enter:{progress:1},leave:{progress:0},config:springs.smooth},(function(e){return e&&function(e){var s=e.progress;return React.createElement(_StyledDiv,{_css:d?2*GU:3*GU,_css2:l,_css3:p},React.createElement(_StyledAnimatedDiv,_extends_1({style:{pointerEvents:o?"auto":"none",opacity:s,transform:s.interpolate((function(e){return"translate3d(0, calc(10px * ".concat(1-e,"), 0)")}))}},r,{_css4:Number(d),_css5:6*GU,_css6:1*GU,_css7:2*GU,_css8:textStyle("body3"),_css9:n.floatingContent,_css10:n.floating,_css11:n.border}),React.createElement(i,{name:"FloatIndicator"},t)))}})))}));FloatIndicator.propTypes={children:propTypes.node.isRequired,shift:propTypes.number,visible:propTypes.bool},FloatIndicator.defaultProps={shift:0,visible:!0};export default FloatIndicator;