import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import objectWithoutProperties from"../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js";import _styled from"styled-components";import React,{useMemo}from"react";import propTypes from"../../../node_modules/prop-types/index.js";import{useTheme}from"../../theme/Theme2.js";import{unselectable}from"../../utils/css.js";import{GU}from"../../style/constants.js";import{textStyle}from"../../style/text-styles.js";var MODE_INDICATOR="indicator",MODE_IDENTIFIER="identifier",MODE_NEW="new",MODE_ACTIVITY="activity",SIZE_NORMAL="normal",SIZE_SMALL="small",COUNT_DEFAULT=2;function useMode(e){var t=useTheme();return e===MODE_IDENTIFIER?{background:t.tagIdentifier,color:t.tagIdentifierContent,size:SIZE_NORMAL}:e===MODE_NEW?{background:t.tagNew,color:t.tagNewContent,size:SIZE_NORMAL}:e===MODE_ACTIVITY?{background:t.tagActivity,color:t.tagActivityContent,size:SIZE_SMALL}:{background:t.tagIndicator,color:t.tagIndicatorContent,size:SIZE_NORMAL}}function getSize(e,t){var n=t.uppercase,o=t.discMode,r=t.iconAndLabel;return e===SIZE_SMALL?"\n      min-width: ".concat(2*GU,"px;\n      width: ").concat(o?"".concat(2*GU,"px"):"auto",";\n      height: ").concat(2*GU,"px;\n      padding: ").concat(o?"0":"0 ".concat(.5*GU,"px"),";\n      padding-top: ").concat(n?"0.5px":0,";\n      border-radius: ").concat(2*GU,"px;\n      ").concat(textStyle("label3"),";\n      font-weight: 600;\n    "):"\n    min-width: ".concat(2.5*GU,"px;\n    width: ").concat(o?"".concat(3*GU,"px"):"auto",";\n    height: ").concat(2.5*GU,"px;\n    padding: ").concat(o?"0":"0 ".concat(1.5*GU,"px")," ;\n    padding-top: ").concat(n?"1px":0,";\n    ").concat(r?"padding-left: ".concat(1.25*GU,"px"):"",";\n    border-radius: ").concat(2.5*GU,"px;\n    ").concat(textStyle("label2"),";\n    font-weight: 600;\n  ")}function useLabel(e){var t=e.label,n=void 0===t?"":t,o=e.limitDigits;return useMemo((function(){if(!1===o)return"number"==typeof n?String(n):n||"";var e="number"==typeof o?o:COUNT_DEFAULT,t=parseInt(n,10);if(isNaN(t))return n||"";var r=Math.pow(10,e)-1,i=t>r?"".concat(r,"+"):t;return String(i)}),[n,o])}var _StyledSpan=_styled("span").withConfig({displayName:"Tag___StyledSpan",componentId:"sc-875dmt-0"})(["display:inline-flex;align-items:center;justify-content:center;white-space:nowrap;",";",";color:",";background:",";",";"],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}),unselectable),_StyledSpan2=_styled("span").withConfig({displayName:"Tag___StyledSpan2",componentId:"sc-875dmt-1"})(["display:flex;align-items:center;margin-right:","px;"],(function(e){return e._css5})),_StyledSpan3=_styled("span").withConfig({displayName:"Tag___StyledSpan3",componentId:"sc-875dmt-2"})(["overflow:hidden;text-overflow:ellipsis;margin-top:",";"],(function(e){return e._css6}));function Tag(e){var t=e.background,n=e.children,o=e.color,r=e.limitDigits,i=e.icon,c=e.label,a=e.mode,s=e.size,p=e.uppercase,l=objectWithoutProperties(e,["background","children","color","limitDigits","icon","label","mode","size","uppercase"]);if((i||void 0!==c)&&void 0!==n)throw new Error("Tag: you cannot use icon or label with children.");var d=useMode(a),u=s||d.size,m=useLabel({label:void 0!==c?c:n,limitDigits:r}),_=getSize(u,{uppercase:p,discMode:i&&!m||!i&&"string"==typeof m&&m.length<2,iconAndLabel:i&&m}),g=u===SIZE_NORMAL&&(p||"number"==typeof c||!1!==r);return React.createElement(_StyledSpan,_extends_1({},l,{_css:_,_css2:p?"":"text-transform: unset",_css3:o||d.color,_css4:t||d.background}),i&&React.createElement(_StyledSpan2,{_css5:m?.25*GU:0},i),React.createElement(_StyledSpan3,{_css6:g?"1px":"0"},m))}Tag.propTypes={background:propTypes.string,children:propTypes.node,color:propTypes.string,limitDigits:propTypes.oneOfType([propTypes.bool,propTypes.number]),icon:propTypes.node,label:propTypes.oneOfType([propTypes.node,propTypes.number]),mode:propTypes.oneOf([MODE_IDENTIFIER,MODE_NEW,MODE_INDICATOR,MODE_ACTIVITY]),size:propTypes.oneOf([SIZE_NORMAL,SIZE_SMALL]),uppercase:propTypes.bool},Tag.defaultProps={uppercase:!0,limitDigits:!1};export default Tag;