import _extends_1 from"../../../node_modules/@babel/runtime/helpers/extends.js";import toConsumableArray from"../../../node_modules/@babel/runtime/helpers/toConsumableArray.js";import classCallCheck from"../../../node_modules/@babel/runtime/helpers/classCallCheck.js";import createClass from"../../../node_modules/@babel/runtime/helpers/createClass.js";import assertThisInitialized from"../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js";import inherits from"../../../node_modules/@babel/runtime/helpers/inherits.js";import possibleConstructorReturn from"../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js";import getPrototypeOf from"../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js";import defineProperty from"../../../node_modules/@babel/runtime/helpers/defineProperty.js";import React from"react";import propTypes from"../../../node_modules/prop-types/index.js";import{stylingProps}from"../../utils/components.js";import{noop}from"../../utils/miscellaneous.js";function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,o=getPrototypeOf(e);if(t){var n=getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _React$createContext=React.createContext({}),Provider=_React$createContext.Provider,Consumer=_React$createContext.Consumer,RadioGroup=function(e){inherits(r,e);var t=_createSuper(r);function r(){var e;classCallCheck(this,r);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),defineProperty(assertThisInitialized(e),"state",{radios:new Set}),defineProperty(assertThisInitialized(e),"handleChange",(function(t){e.props.onChange(t)})),defineProperty(assertThisInitialized(e),"addRadio",(function(t){e.setState((function(e){var r=new Set(e.radios);return r.add(t),{radios:r}}))})),defineProperty(assertThisInitialized(e),"removeRadio",(function(t){e.setState((function(e){var r=new Set(e.radios);return r.delete(t),{radios:r}}))})),defineProperty(assertThisInitialized(e),"selectPrev",(function(){var t=e.getSiblingId(-1);null!==t&&e.props.onChange(t)})),defineProperty(assertThisInitialized(e),"selectNext",(function(){var t=e.getSiblingId(1);null!==t&&e.props.onChange(t)})),e}return createClass(r,[{key:"getSiblingId",value:function(e){var t=this.props.selected,r=toConsumableArray(this.state.radios),o=void 0===t?0:r.indexOf(t),n=o+e;return 0===r.length?null:-1===n?r[r.length-1]:n===r.length?r[0]:o>-1&&r[n]?r[n]:void 0===r[0]?null:r[0]}},{key:"render",value:function(){var e=this.state.radios,t=this.props,r=t.children,o=t.selected,n=e.has(o)?o:toConsumableArray(e)[0];return React.createElement(Provider,{value:{selected:o,focusableId:n,onChange:this.handleChange,addRadio:this.addRadio,removeRadio:this.removeRadio,selectPrev:this.selectPrev,selectNext:this.selectNext}},React.createElement("div",_extends_1({role:"radiogroup"},stylingProps(this)),r))}}]),r}(React.PureComponent);defineProperty(RadioGroup,"propTypes",{children:propTypes.node,selected:propTypes.oneOfType([propTypes.string,propTypes.number]),onChange:propTypes.func}),defineProperty(RadioGroup,"defaultProps",{onChange:noop});export default RadioGroup;export{Consumer as RadioGroupConsumer};