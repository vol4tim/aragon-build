import _styled from"styled-components";import React from"react";import propTypes from"../../../node_modules/prop-types/index.js";import{useTheme}from"../../theme/Theme2.js";import{GU}from"../../style/constants.js";import{textStyle}from"../../style/text-styles.js";var _StyledDiv=_styled("div").withConfig({displayName:"Distribution___StyledDiv",componentId:"r4l1i4-0"})(["margin-bottom:","px;"],(function(e){return e._css})),_StyledH=_styled("h1").withConfig({displayName:"Distribution___StyledH",componentId:"r4l1i4-1"})(["",""],(function(e){return e._css2})),_StyledDiv2=_styled("div").withConfig({displayName:"Distribution___StyledDiv2",componentId:"r4l1i4-2"})(["display:flex;width:100%;overflow:hidden;margin:0 0 ","px;border-radius:3px;div{height:6px;}"],(function(e){return e._css3})),_StyledUl=_styled("ul").withConfig({displayName:"Distribution___StyledUl",componentId:"r4l1i4-3"})(["margin-top:","px;"],(function(e){return e._css4})),_StyledLi=_styled("li").withConfig({displayName:"Distribution___StyledLi",componentId:"r4l1i4-4"})(["display:flex;align-items:center;justify-content:space-between;margin-top:10px;list-style:none;"]),_StyledDiv3=_styled("div").withConfig({displayName:"Distribution___StyledDiv3",componentId:"r4l1i4-5"})(["display:flex;align-items:center;flex-shrink:1;flex-grow:1;"]),_StyledDiv4=_styled("div").withConfig({displayName:"Distribution___StyledDiv4",componentId:"r4l1i4-6"})(["width:0;flex-shrink:1;flex-grow:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"]),_StyledDiv5=_styled("div").withConfig({displayName:"Distribution___StyledDiv5",componentId:"r4l1i4-7"})(["padding-left:","px;flex-shrink:0;"],(function(e){return e._css5}));function Distribution(e){var t=e.colors,i=e.showLegend,n=e.heading,r=e.itemTitle,l=e.renderLegendItem,o=e.renderFullLegendItem,s=e.items,c=useTheme();t||(t=[c.blue,c.red,c.brown,c.yellow,c.purple,c.green]);var d=s.reduce((function(e,t){return e+t.percentage}),0);return s=s.sort((function(e,t){return t.percentage-e.percentage})),React.createElement("section",null,n&&React.createElement(_StyledDiv,{_css:1*GU},"string"==typeof n?React.createElement(_StyledH,{_css2:textStyle("body2")},n):n),React.createElement(_StyledDiv2,{_css3:1*GU},s.map((function(e,i){var n=e.item,l=e.percentage;return React.createElement("div",{key:i,title:r({item:n,percentage:l,index:i}),style:{width:"".concat(l/d*100,"%"),background:t[i%t.length]}})}))),i&&React.createElement(_StyledUl,{_css4:3*GU},s.map((function(e,i){var n=e.item,r=e.percentage,s=t[i%t.length];return React.createElement(_StyledLi,{key:i},o?React.createElement(o,{bullet:React.createElement(Bullet,{color:s}),color:s,index:i,item:n,percentage:r}):React.createElement(React.Fragment,null,React.createElement(_StyledDiv3,null,React.createElement(Bullet,{color:s}),React.createElement(_StyledDiv4,null,React.createElement(l,{color:s,index:i,item:n,percentage:r}))),React.createElement(_StyledDiv5,{_css5:1*GU},React.createElement("strong",null,r,"%"))))}))))}Distribution.propTypes={colors:propTypes.array,heading:propTypes.node,itemTitle:propTypes.func,renderLegendItem:propTypes.func,renderFullLegendItem:propTypes.func,showLegend:propTypes.bool,items:propTypes.arrayOf(propTypes.shape({item:propTypes.any.isRequired,percentage:propTypes.number.isRequired})).isRequired},Distribution.defaultProps={heading:null,itemTitle:function(e){var t=e.item,i=e.percentage,n=e.index;return"".concat("string"==typeof t?t:"Item ".concat(n+1),": ").concat(i,"%")},renderLegendItem:function(e){var t=e.item;e.percentage;var i=e.index;return"string"==typeof t?t:"Item ".concat(i+1)},showLegend:!0};var _StyledDiv6=_styled("div").withConfig({displayName:"Distribution___StyledDiv6",componentId:"r4l1i4-8"})(["width:","px;height:","px;margin-right:","px;border-radius:50%;flex-shrink:0;"],(function(e){return e._css6}),(function(e){return e._css7}),(function(e){return e._css8}));function Bullet(e){var t=e.color;return React.createElement(_StyledDiv6,{style:{background:t},_css6:1*GU,_css7:1*GU,_css8:1*GU})}export default Distribution;