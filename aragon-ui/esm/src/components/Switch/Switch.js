import slicedToArray from"../../../node_modules/@babel/runtime/helpers/slicedToArray.js";import _styled from"styled-components";import React,{useState}from"react";import propTypes from"../../../node_modules/prop-types/index.js";import{animated as extendedAnimated,Spring}from"../../../node_modules/react-spring/web.js";import FocusVisible from"../FocusVisible/FocusVisible.js";import{useTheme}from"../../theme/Theme2.js";import{springs}from"../../style/springs.js";import{noop}from"../../utils/miscellaneous.js";import{GU}from"../../style/constants.js";var BORDER=1,WRAPPER_WIDTH=5*GU,WRAPPER_HEIGHT=2.25*GU,_StyledSpan=_styled("span").withConfig({displayName:"Switch___StyledSpan",componentId:"sc-1f0jw9z-0"})(["position:relative;display:inline-block;width:","px;height:","px;border:","px solid ",";border-radius:","px;background-color:",";cursor:",";"," ",";"],WRAPPER_WIDTH,WRAPPER_HEIGHT,BORDER,(function(e){return e._css}),WRAPPER_HEIGHT,(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}),(function(e){return e._css5})),_StyledInput=_styled("input").withConfig({displayName:"Switch___StyledInput",componentId:"sc-1f0jw9z-1"})(["opacity:0;pointer-events:none;"]),_StyledAnimatedSpan=_styled(extendedAnimated.span).withConfig({displayName:"Switch___StyledAnimatedSpan",componentId:"sc-1f0jw9z-2"})(["position:absolute;left:0;z-index:1;top:","px;width:","px;height:","px;border-radius:","px;background-color:",";box-shadow:",";"],BORDER,(function(e){return e._css6}),(function(e){return e._css7}),(function(e){return e._css8}),(function(e){return e._css9}),(function(e){return e._css10}));function Switch(e){var n=e.checked,t=e.disabled,o=e.onChange,s=useTheme(),r=useState(!1),c=slicedToArray(r,2),i=c[0],p=c[1],a=t?noop:function(){return o(!n)};return React.createElement(FocusVisible,null,(function(e){var o=e.focusVisible,r=e.onFocus;return React.createElement(_StyledSpan,{onClick:function(e){e.preventDefault(),a()},_css:s.border,_css2:t?s.controlBorder:n?s.selected:s.control,_css3:t?"default":"pointer",_css4:t?"":"\n                  &:active {\n                    border-color: ".concat(s.controlBorderPressed,";\n                  }\n                "),_css5:i&&o?"\n                  &:after {\n                    content: '';\n                    position: absolute;\n                    left: ".concat(2*-BORDER,"px;\n                    top: ").concat(2*-BORDER,"px;\n                    width: ").concat(WRAPPER_WIDTH+2*BORDER,"px;\n                    height: ").concat(WRAPPER_HEIGHT+2*BORDER,"px;\n                    border-radius: ").concat(WRAPPER_HEIGHT,"px;\n                    border: 2px solid ").concat(s.focus,";\n                  }\n                "):""},React.createElement(_StyledInput,{type:"checkbox",onFocus:function(){p(!0),r()},onBlur:function(){return p(!1)},checked:n,disabled:t,onChange:a}),React.createElement(Spring,{to:{progress:n?WRAPPER_WIDTH-WRAPPER_HEIGHT+BORDER:BORDER},config:springs.smooth,native:!0},(function(e){var n=e.progress;return React.createElement(_StyledAnimatedSpan,{style:{transform:n.interpolate((function(e){return"translate3d(".concat(e,"px, 0, 0)")}))},_css6:WRAPPER_HEIGHT-4*BORDER,_css7:WRAPPER_HEIGHT-4*BORDER,_css8:WRAPPER_HEIGHT-4*BORDER,_css9:s.controlSurface,_css10:t?"none":"0px 1px 3px rgba(0, 0, 0, 0.15)"})})))}))}Switch.propTypes={checked:propTypes.bool,disabled:propTypes.bool,onChange:propTypes.func},Switch.defaultProps={checked:!1,disabled:!1,onChange:noop};export default Switch;