"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("./extends-023d783e.js"),defineProperty=require("./defineProperty-3cad0327.js"),objectWithoutProperties=require("./objectWithoutProperties-c6d3675c.js"),_styled=require("styled-components"),React=require("react"),index=require("./index-37353731.js"),web=require("./web-46d746d6.js"),ButtonIcon=require("./ButtonIcon.js"),EscapeOutside=require("./EscapeOutside.js"),RootPortal=require("./RootPortal.js"),Theme=require("./Theme.js"),Viewport=require("./Viewport-71f7efe6.js"),IconCross=require("./IconCross.js"),springs=require("./springs.js"),css=require("./css.js"),constants=require("./constants.js"),miscellaneous=require("./miscellaneous.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-1b94f6bc.js"),require("./objectWithoutPropertiesLoose-1af20ad0.js"),require("react-dom"),require("./Button.js"),require("./slicedToArray-a8a77f0e.js"),require("./unsupportedIterableToArray-f175acfa.js"),require("./index-c33eeeef.js"),require("./Layout.js"),require("./breakpoints.js"),require("./getPrototypeOf-55c9e80c.js"),require("./_baseGetTag-6ec23aaa.js"),require("./ButtonBase.js"),require("./FocusVisible.js"),require("./keycodes.js"),require("./environment.js"),require("./text-styles.js"),require("./font.js"),require("./theme-dark.js"),require("./theme-light.js"),require("./color.js"),require("./toConsumableArray-cc0d28a9.js"),require("./Root-07f851a6.js"),require("./IconPropTypes-b9997416.js");var _styled__default=_interopDefaultLegacy(_styled),React__default=_interopDefaultLegacy(React);function ownKeys(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(o),!0).forEach((function(t){defineProperty.defineProperty(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var SPACE_AROUND=4*constants.GU,_StyledAnimatedDiv=_styled__default.default(web.extendedAnimated.div).withConfig({displayName:"Modal___StyledAnimatedDiv",componentId:"sc-1ofisn3-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;background:",";"],(function(e){return e._css})),_StyledAnimatedDiv2=_styled__default.default(web.extendedAnimated.div).withConfig({displayName:"Modal___StyledAnimatedDiv2",componentId:"sc-1ofisn3-1"})(["position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;display:grid;align-items:center;justify-content:center;overflow:auto;"]),_StyledDiv=_styled__default.default("div").withConfig({displayName:"Modal___StyledDiv",componentId:"sc-1ofisn3-2"})(["padding:","px 0;"],SPACE_AROUND),_StyledEscapeOutside=_styled__default.default(EscapeOutside.default).withConfig({displayName:"Modal___StyledEscapeOutside",componentId:"sc-1ofisn3-3"})(["position:relative;overflow:hidden;min-width:","px;background:",";box-shadow:0 10px 28px rgba(0,0,0,0.15);"],(function(e){return e._css2}),(function(e){return e._css3})),_StyledButtonIcon=_styled__default.default(ButtonIcon.default).withConfig({displayName:"Modal___StyledButtonIcon",componentId:"sc-1ofisn3-4"})(["position:absolute;z-index:2;top:","px;right:","px;"],(function(e){return e._css4}),(function(e){return e._css5})),_StyledDiv2=_styled__default.default("div").withConfig({displayName:"Modal___StyledDiv2",componentId:"sc-1ofisn3-5"})(["position:relative;z-index:1;"]);function Modal(e){var t=e.children,o=e.onClose,r=e.onClosed,n=e.padding,s=e.visible,i=e.width,a=e.closeButton,d=objectWithoutProperties.objectWithoutProperties(e,["children","onClose","onClosed","padding","visible","width","closeButton"]),c=Theme.useTheme(),l=Viewport.useViewport();return React__default.default.createElement(RootPortal.default,null,React__default.default.createElement(web.Transition,{native:!0,items:s,from:{opacity:0,scale:.98},enter:{opacity:1,scale:1},leave:{opacity:0,scale:.98},config:_objectSpread(_objectSpread({},springs.springs.smooth),{},{precision:.001}),onDestroyed:function(e){e&&r()}},(function(e){return e&&function(e){var r=e.opacity,u=e.scale;return React__default.default.createElement(_StyledAnimatedDiv,_extends._extends_1({style:{opacity:r}},d,{_css:c.overlay.alpha(.9)}),React__default.default.createElement(_StyledAnimatedDiv2,{style:{pointerEvents:s?"auto":"none",transform:u.interpolate((function(e){return"scale3d(".concat(e,", ").concat(e,", 1)")}))}},React__default.default.createElement(_StyledDiv,null,React__default.default.createElement(_StyledEscapeOutside,{role:"alertdialog",useCapture:!0,background:c.surface,onEscapeOutside:o,style:{width:css.cssPx("function"==typeof i?i(l):i),borderRadius:"".concat(constants.RADIUS,"px")},_css2:360-2*SPACE_AROUND,_css3:c.surface},a&&React__default.default.createElement(_StyledButtonIcon,{label:"Close",onClick:o,_css4:2*constants.GU,_css5:2*constants.GU},React__default.default.createElement(IconCross.default,null)),React__default.default.createElement(_StyledDiv2,{style:{padding:css.cssPx("function"==typeof n?n(l):n)}},t)))))}})))}Modal.propTypes={children:index.propTypes.node.isRequired,closeButton:index.propTypes.bool,onClose:index.propTypes.func,onClosed:index.propTypes.func,padding:index.propTypes.oneOfType([index.propTypes.func,index.propTypes.number,index.propTypes.string]),visible:index.propTypes.bool.isRequired,width:index.propTypes.oneOfType([index.propTypes.func,index.propTypes.number,index.propTypes.string])},Modal.defaultProps={closeButton:!0,onClose:miscellaneous.noop,onClosed:miscellaneous.noop,padding:3*constants.GU,width:function(e){return Math.min(e.width-2*SPACE_AROUND,600)}},exports.default=Modal;