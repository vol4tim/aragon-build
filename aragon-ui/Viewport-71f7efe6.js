"use strict";var getPrototypeOf=require("./getPrototypeOf-55c9e80c.js"),defineProperty=require("./defineProperty-3cad0327.js"),React=require("react"),index=require("./index-37353731.js"),_baseGetTag=require("./_baseGetTag-6ec23aaa.js"),breakpoints=require("./breakpoints.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var React__default=_interopDefaultLegacy(React),now=function(){return _baseGetTag._root.Date.now()},now_1=now;function isObjectLike(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike,symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike_1(e)&&_baseGetTag._baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol,NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol_1(e))return NAN;if(_baseGetTag.isObject_1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_baseGetTag.isObject_1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(e,t,r){var i,n,o,a,u,s,c=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$1);function l(t){var r=i,o=n;return i=n=void 0,c=t,a=e.apply(o,r)}function y(e){var r=e-s;return void 0===s||r>=t||r<0||p&&e-c>=o}function w(){var e=now_1();if(y(e))return _(e);u=setTimeout(w,function(e){var r=t-(e-s);return p?nativeMin(r,o-(e-c)):r}(e))}function _(e){return u=void 0,d&&i?l(e):(i=n=void 0,a)}function h(){var e=now_1(),r=y(e);if(i=arguments,n=this,s=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(w,t),f?l(e):a}(s);if(p)return clearTimeout(u),u=setTimeout(w,t),l(s)}return void 0===u&&(u=setTimeout(w,t)),a}return t=toNumber_1(t)||0,_baseGetTag.isObject_1(r)&&(f=!!r.leading,o=(p="maxWait"in r)?nativeMax(toNumber_1(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),h.cancel=function(){void 0!==u&&clearTimeout(u),c=0,i=s=n=u=void 0},h.flush=function(){return void 0===u?a:_(now_1())},h}var debounce_1=debounce,FUNC_ERROR_TEXT="Expected a function";function throttle(e,t,r){var i=!0,n=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);return _baseGetTag.isObject_1(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),debounce_1(e,t,{leading:i,maxWait:t,trailing:n})}var throttle_1=throttle;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,i=getPrototypeOf.getPrototypeOf(e);if(t){var n=getPrototypeOf.getPrototypeOf(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return getPrototypeOf.possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){defineProperty.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var NO_DOM_WINDOW_SIZE={width:0,height:0},WINDOW_SIZE_BASE=_objectSpread({breakpoints:breakpoints.BREAKPOINTS},getCurrentWindowSize()),ViewportContext=React__default.default.createContext(WINDOW_SIZE_BASE);function getCurrentWindowSize(){return"undefined"==typeof window?NO_DOM_WINDOW_SIZE:{width:window.innerWidth,height:window.innerHeight}}var ViewportProvider=function(e){getPrototypeOf.inherits(r,e);var t=_createSuper(r);function r(){var e;getPrototypeOf.classCallCheck(this,r);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"state",{windowSize:e.getWindowSize()}),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"updateWindowSize",(function(){e.setState({windowSize:e.getWindowSize()})})),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"within",(function(t,r){var i=e.state.windowSize.width;if(""===t&&(t=-1),""===r&&(r=-1),"string"==typeof t&&(t=breakpoints.BREAKPOINTS[t]),"string"==typeof r&&(r=breakpoints.BREAKPOINTS[r]),"number"!=typeof t)throw new Error("Viewport: invalid minimum value (".concat(t,")."));if("number"!=typeof r)throw new Error("Viewport: invalid maximum value (".concat(r,")."));return(-1===t||i>=t)&&(-1===r||i<r)})),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"above",(function(t){return e.within(t,-1)})),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"below",(function(t){return e.within(-1,t)})),e}return getPrototypeOf.createClass(r,[{key:"componentDidMount",value:function(){this.resizeStart()}},{key:"componentWillUnmount",value:function(){this.resizeStop()}},{key:"componentDidUpdate",value:function(e){var t=this.props.throttle;e.throttle!==t&&(this.resizeStop(),this.resizeStart())}},{key:"resizeStart",value:function(){this._handleResize=throttle_1(this.updateWindowSize,this.props.throttle),this.updateWindowSize(),"undefined"!=typeof window&&window.addEventListener("resize",this._handleResize)}},{key:"resizeStop",value:function(){this._handleResize&&("undefined"!=typeof window&&window.removeEventListener("resize",this._handleResize),this._handleResize.cancel(),delete this._handleResize)}},{key:"getWindowSize",value:function(){return _objectSpread(_objectSpread({},WINDOW_SIZE_BASE),getCurrentWindowSize())}},{key:"render",value:function(){var e=this.state.windowSize,t=this.props.children,r=this.within,i=this.above,n=this.below;return React__default.default.createElement(ViewportContext.Provider,{value:_objectSpread(_objectSpread({},e),{},{within:r,above:i,below:n})},t)}}]),r}(React__default.default.Component);defineProperty.defineProperty(ViewportProvider,"propTypes",{children:index.propTypes.node,throttle:index.propTypes.number}),defineProperty.defineProperty(ViewportProvider,"defaultProps",{throttle:100});var Viewport=function(e){return React__default.default.createElement(ViewportContext.Consumer,e)};Viewport.Provider=ViewportProvider;var useViewport=function(){return React__default.default.useContext(ViewportContext)};exports.Viewport=Viewport,exports.useViewport=useViewport;