"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("./extends-023d783e.js"),objectWithoutProperties=require("./objectWithoutProperties-c6d3675c.js"),_styled=require("styled-components"),React=require("react"),index=require("./index-37353731.js"),Theme=require("./Theme.js"),css=require("./css.js"),constants=require("./constants.js"),textStyles=require("./text-styles.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-1b94f6bc.js"),require("./slicedToArray-a8a77f0e.js"),require("./unsupportedIterableToArray-f175acfa.js"),require("./defineProperty-3cad0327.js"),require("./theme-dark.js"),require("./theme-light.js"),require("./environment.js"),require("./miscellaneous.js"),require("./color.js"),require("./getPrototypeOf-55c9e80c.js"),require("./toConsumableArray-cc0d28a9.js"),require("./font.js");var _styled__default=_interopDefaultLegacy(_styled),React__default=_interopDefaultLegacy(React),MODE_INDICATOR="indicator",MODE_IDENTIFIER="identifier",MODE_NEW="new",MODE_ACTIVITY="activity",SIZE_NORMAL="normal",SIZE_SMALL="small",COUNT_DEFAULT=2;function useMode(e){var t=Theme.useTheme();return e===MODE_IDENTIFIER?{background:t.tagIdentifier,color:t.tagIdentifierContent,size:SIZE_NORMAL}:e===MODE_NEW?{background:t.tagNew,color:t.tagNewContent,size:SIZE_NORMAL}:e===MODE_ACTIVITY?{background:t.tagActivity,color:t.tagActivityContent,size:SIZE_SMALL}:{background:t.tagIndicator,color:t.tagIndicatorContent,size:SIZE_NORMAL}}function getSize(e,t){var n=t.uppercase,o=t.discMode,r=t.iconAndLabel;return e===SIZE_SMALL?"\n      min-width: ".concat(2*constants.GU,"px;\n      width: ").concat(o?"".concat(2*constants.GU,"px"):"auto",";\n      height: ").concat(2*constants.GU,"px;\n      padding: ").concat(o?"0":"0 ".concat(.5*constants.GU,"px"),";\n      padding-top: ").concat(n?"0.5px":0,";\n      border-radius: ").concat(2*constants.GU,"px;\n      ").concat(textStyles.textStyle("label3"),";\n      font-weight: 600;\n    "):"\n    min-width: ".concat(2.5*constants.GU,"px;\n    width: ").concat(o?"".concat(3*constants.GU,"px"):"auto",";\n    height: ").concat(2.5*constants.GU,"px;\n    padding: ").concat(o?"0":"0 ".concat(1.5*constants.GU,"px")," ;\n    padding-top: ").concat(n?"1px":0,";\n    ").concat(r?"padding-left: ".concat(1.25*constants.GU,"px"):"",";\n    border-radius: ").concat(2.5*constants.GU,"px;\n    ").concat(textStyles.textStyle("label2"),";\n    font-weight: 600;\n  ")}function useLabel(e){var t=e.label,n=void 0===t?"":t,o=e.limitDigits;return React.useMemo((function(){if(!1===o)return"number"==typeof n?String(n):n||"";var e="number"==typeof o?o:COUNT_DEFAULT,t=parseInt(n,10);if(isNaN(t))return n||"";var r=Math.pow(10,e)-1,i=t>r?"".concat(r,"+"):t;return String(i)}),[n,o])}var _StyledSpan=_styled__default.default("span").withConfig({displayName:"Tag___StyledSpan",componentId:"sc-875dmt-0"})(["display:inline-flex;align-items:center;justify-content:center;white-space:nowrap;",";",";color:",";background:",";",";"],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}),css.unselectable),_StyledSpan2=_styled__default.default("span").withConfig({displayName:"Tag___StyledSpan2",componentId:"sc-875dmt-1"})(["display:flex;align-items:center;margin-right:","px;"],(function(e){return e._css5})),_StyledSpan3=_styled__default.default("span").withConfig({displayName:"Tag___StyledSpan3",componentId:"sc-875dmt-2"})(["overflow:hidden;text-overflow:ellipsis;margin-top:",";"],(function(e){return e._css6}));function Tag(e){var t=e.background,n=e.children,o=e.color,r=e.limitDigits,i=e.icon,a=e.label,s=e.mode,c=e.size,d=e.uppercase,p=objectWithoutProperties.objectWithoutProperties(e,["background","children","color","limitDigits","icon","label","mode","size","uppercase"]);if((i||void 0!==a)&&void 0!==n)throw new Error("Tag: you cannot use icon or label with children.");var l=useMode(s),u=c||l.size,_=useLabel({label:void 0!==a?a:n,limitDigits:r}),f=getSize(u,{uppercase:d,discMode:i&&!_||!i&&"string"==typeof _&&_.length<2,iconAndLabel:i&&_}),y=u===SIZE_NORMAL&&(d||"number"==typeof a||!1!==r);return React__default.default.createElement(_StyledSpan,_extends._extends_1({},p,{_css:f,_css2:d?"":"text-transform: unset",_css3:o||l.color,_css4:t||l.background}),i&&React__default.default.createElement(_StyledSpan2,{_css5:_?.25*constants.GU:0},i),React__default.default.createElement(_StyledSpan3,{_css6:y?"1px":"0"},_))}Tag.propTypes={background:index.propTypes.string,children:index.propTypes.node,color:index.propTypes.string,limitDigits:index.propTypes.oneOfType([index.propTypes.bool,index.propTypes.number]),icon:index.propTypes.node,label:index.propTypes.oneOfType([index.propTypes.node,index.propTypes.number]),mode:index.propTypes.oneOf([MODE_IDENTIFIER,MODE_NEW,MODE_INDICATOR,MODE_ACTIVITY]),size:index.propTypes.oneOf([SIZE_NORMAL,SIZE_SMALL]),uppercase:index.propTypes.bool},Tag.defaultProps={uppercase:!0,limitDigits:!1},exports.default=Tag;