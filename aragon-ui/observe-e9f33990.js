"use strict";var _extends=require("./extends-023d783e.js"),getPrototypeOf=require("./getPrototypeOf-55c9e80c.js"),defineProperty=require("./defineProperty-3cad0327.js"),React=require("react"),getDisplayName=require("./getDisplayName-7f913e84.js"),environment=require("./environment.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var React__default=_interopDefaultLegacy(React);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=getPrototypeOf.getPrototypeOf(e);if(t){var o=getPrototypeOf.getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return getPrototypeOf.possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var observe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var n,o;return o=n=function(n){getPrototypeOf.inherits(i,n);var o=_createSuper(i);function i(){var r;getPrototypeOf.classCallCheck(this,i);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=o.call.apply(o,[this].concat(s)),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(r),"state",t),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(r),"subscribe",(function(t){t&&r.setState({subscription:e(t).subscribe((function(e){r.setState(e)}))})})),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(r),"unsubscribe",(function(){r.state.subscription&&r.state.subscription.unsubscribe()})),r}return getPrototypeOf.createClass(i,[{key:"componentDidMount",value:function(){this.subscribe(this.props.observable)}},{key:"componentWillReceiveProps",value:function(e){var t=e.observable;t!==this.props.observable&&(this.unsubscribe(),this.subscribe(t))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){environment.warnOnce("observe()","observe() is deprecated. If you are using it with @aragon/api, using @aragon/api-react is now recommended instead.");var e=_extends._extends_1({},this.props);return delete e.observable,React__default.default.createElement(r,_extends._extends_1({},this.state,e))}}]),i}(React__default.default.Component),defineProperty.defineProperty(n,"displayName","Observe(".concat(getDisplayName.getDisplayName(r),")")),defineProperty.defineProperty(n,"propTypes",{observable:function(e,t,r){var n=e.observable;if(n&&"function"!=typeof n.subscribe)throw new Error("Invalid prop `observable` supplied to `".concat(r,"` ")+"(wrapped by `observe()`). `observable` must be an RxJS Observable-like object. "+"Given ".concat(n," instead."))}}),o}};exports.observe=observe;