"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("./extends-023d783e.js"),objectWithoutProperties=require("./objectWithoutProperties-c6d3675c.js"),slicedToArray=require("./slicedToArray-a8a77f0e.js"),_styled=require("styled-components"),React=require("react"),index=require("./index-37353731.js"),BadgeBase=require("./BadgeBase.js"),TokenBadgePopover=require("./TokenBadgePopover.js"),web3=require("./web3-4ef44cda.js"),environment=require("./environment.js"),useImageExists=require("./useImageExists.js"),constants=require("./constants.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-1b94f6bc.js"),require("./unsupportedIterableToArray-f175acfa.js"),require("./index-c33eeeef.js"),require("./ButtonBase.js"),require("./defineProperty-3cad0327.js"),require("./FocusVisible.js"),require("./getPrototypeOf-55c9e80c.js"),require("./Theme.js"),require("./theme-dark.js"),require("./theme-light.js"),require("./color.js"),require("./toConsumableArray-cc0d28a9.js"),require("./keycodes.js"),require("./css.js"),require("./text-styles.js"),require("./font.js"),require("./miscellaneous.js"),require("./proptypes-316e1def.js"),require("./AddressField.js"),require("./TextCopy.js"),require("./TextInput.js"),require("./ButtonIcon.js"),require("./Button.js"),require("./Layout.js"),require("./Viewport-71f7efe6.js"),require("./_baseGetTag-6ec23aaa.js"),require("./breakpoints.js"),require("./ToastHub.js"),require("./web-46d746d6.js"),require("./objectWithoutPropertiesLoose-1af20ad0.js"),require("react-dom"),require("./RootPortal.js"),require("./Root-07f851a6.js"),require("./components.js"),require("./springs.js"),require("./IconCopy.js"),require("./IconPropTypes-b9997416.js"),require("./EthIdenticon.js"),require("./BadgePopoverBase.js"),require("./Popover.js"),require("./BadgePopoverActionType.js"),require("./IconCross.js"),require("./Link.js");var _styled__default=_interopDefaultLegacy(_styled),React__default=_interopDefaultLegacy(React),_StyledSpan=_styled__default.default("span").withConfig({displayName:"TokenBadge___StyledSpan",componentId:"sc-7bvdqo-0"})(["position:relative;top:1px;display:flex;flex-shrink:1;min-width:0;margin-left:",";"],(function(e){return e._css})),TokenBadge=React__default.default.memo((function(e){var r=e.address,t=e.badgeOnly,s=e.className,a=e.compact,o=e.name,n=e.networkType,i=e.style,d=e.symbol,c=React.useRef(null),u=React.useState(!1),l=slicedToArray.slicedToArray(u,2),p=l[0],f=l[1],_=React.useCallback((function(){return f(!1)}),[]),y=React.useCallback((function(){return f(!0)}),[]),m=web3.isAddress(r),j=m&&"main"===n?web3.tokenIconUrl(r):null,q=o&&d?"".concat(o," (").concat(d,")"):d;return m||environment.warn("TokenBadge: provided invalid address (".concat(r,")")),React__default.default.createElement(BadgeBase.default,{badgeRef:c,className:s,compact:a,disabled:t,icon:React__default.default.createElement(useImageExists.ImageExists,{src:j},(function(e){return e.exists&&React__default.default.createElement(Icon,{compact:a,src:j})})),label:React__default.default.createElement(_StyledSpan,{_css:a?0:"".concat(1*constants.GU,"px")},o&&React__default.default.createElement(Name,null,o),React__default.default.createElement(_Symbol,null,o?"(".concat(d,")"):d)),onClick:m?y:void 0,style:i,title:"".concat(q," âˆ’ ").concat(r||"No address")},(function(e){return!e&&r&&React__default.default.createElement(TokenBadgePopover.default,{address:r,iconSrc:j,networkType:n,onClose:_,opener:c.current,title:q,visible:p})}))}));TokenBadge.propTypes={address:index.propTypes.string,badgeOnly:index.propTypes.bool,className:index.propTypes.string,compact:index.propTypes.bool,name:index.propTypes.string,networkType:index.propTypes.string,style:index.propTypes.object,symbol:index.propTypes.string.isRequired},TokenBadge.defaultProps={address:"",name:"",networkType:"main"};var _StyledSpan2=_styled__default.default("span").withConfig({displayName:"TokenBadge___StyledSpan2",componentId:"sc-7bvdqo-1"})(["flex-shrink:0;display:block;width:18px;height:18px;margin:0 ","px 0 ","px;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;background-image:url(",");"],(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}));function Icon(e){var r=e.compact,t=e.src,s=objectWithoutProperties.objectWithoutProperties(e,["compact","src"]),a=1*constants.GU;return React__default.default.createElement(_StyledSpan2,_extends._extends_1({},s,{_css2:r?a:0,_css3:r?0:a,_css4:t}))}Icon.propTypes={compact:index.propTypes.bool,src:index.propTypes.string.isRequired};var Name=_styled__default.default.span.withConfig({displayName:"TokenBadge__Name",componentId:"sc-7bvdqo-2"})(["flex-shrink:1;overflow:hidden;text-overflow:ellipsis;min-width:20%;margin-right:","px;"],.5*constants.GU),_Symbol=_styled__default.default.span.withConfig({displayName:"TokenBadge___Symbol",componentId:"sc-7bvdqo-3"})(["flex-shrink:0;"]);exports.default=TokenBadge;