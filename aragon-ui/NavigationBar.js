"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("./extends-023d783e.js"),getPrototypeOf=require("./getPrototypeOf-55c9e80c.js"),defineProperty=require("./defineProperty-3cad0327.js"),React=require("react"),index=require("./index-37353731.js"),_styled=require("styled-components"),web=require("./web-46d746d6.js"),LeftIcon=require("./LeftIcon.js"),springs=require("./springs.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-1b94f6bc.js"),require("./objectWithoutPropertiesLoose-1af20ad0.js"),require("react-dom");var React__default=_interopDefaultLegacy(React),_styled__default=_interopDefaultLegacy(_styled);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){defineProperty.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=getPrototypeOf.getPrototypeOf(e);if(t){var o=getPrototypeOf.getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return getPrototypeOf.possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var NavigationBar=function(e){getPrototypeOf.inherits(r,e);var t=_createSuper(r);function r(){var e;getPrototypeOf.classCallCheck(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"state",{cachedItems:null,direction:-1}),e}return getPrototypeOf.createClass(r,[{key:"render",value:function(){var e=this.props,t=e.onBack,r=e.items,n=e.compact,o=r.map((function(e,t){return{node:e,index:t}})).slice(-1);return React__default.default.createElement(Container,null,React__default.default.createElement(web.Transition,{items:o,keys:o.map((function(e){return 1===r.length?-1:e.index})),config:springs.springs.smooth,initial:null,from:{opacity:0,position:-1*this.state.direction},enter:{opacity:1,position:0},leave:{opacity:0,position:this.state.direction},native:!0},(function(e){return function(r){return React__default.default.createElement(Item,_extends._extends_1({label:e.node,onBack:t,displayBack:e.index>0,compact:n},r))}})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r={cachedItems:e.items};return t.cachedItems?_objectSpread(_objectSpread({},r),{},{direction:t.cachedItems.length>e.items.length?1:-1}):r}}]),r}(React__default.default.Component);defineProperty.defineProperty(NavigationBar,"propTypes",{onBack:index.propTypes.func,items:index.propTypes.arrayOf(index.propTypes.node),compact:index.propTypes.bool}),defineProperty.defineProperty(NavigationBar,"defaultProps",{onBack:function(){},items:[],compact:!1});var Item=function(e){var t=e.opacity,r=e.position,n=e.displayBack,o=e.onBack,a=e.label,i=e.compact;return React__default.default.createElement(web.extendedAnimated.span,{style:{display:"flex",alignItems:"center",opacity:t,transform:r.interpolate((function(e){return"translate(".concat(20*e,"px, 0)")}))}},React__default.default.createElement(Title,null,n&&React__default.default.createElement(BackButton,{onClick:o,compact:i},React__default.default.createElement(LeftIcon.default,null)),React__default.default.createElement(Label,null,a)))};Item.propTypes={compact:index.propTypes.bool,displayBack:index.propTypes.bool,label:index.propTypes.node,onBack:index.propTypes.func,opacity:index.propTypes.object,position:index.propTypes.object};var Container=_styled__default.default.span.withConfig({displayName:"NavigationBar__Container",componentId:"pd4tzi-0"})(["display:flex;position:relative;height:100%;"]),Title=_styled__default.default.span.withConfig({displayName:"NavigationBar__Title",componentId:"pd4tzi-1"})(["display:flex;align-items:center;position:absolute;left:0;top:0;bottom:0;"]),Label=_styled__default.default.span.withConfig({displayName:"NavigationBar__Label",componentId:"pd4tzi-2"})(["display:flex;height:100%;align-items:center;padding-left:30px;white-space:nowrap;font-size:22px;"]),BackButton=_styled__default.default.span.withConfig({displayName:"NavigationBar__BackButton",componentId:"pd4tzi-3"})(["display:flex;align-items:center;height:63px;padding:",";cursor:pointer;svg{color:hsl(179,76%,48%);}:active svg{color:hsl(179,76%,63%);}& + ","{padding-left:0;}"],(function(e){return e.compact?"0 16px":"0 20px 0 30px"}),Label);exports.default=NavigationBar;