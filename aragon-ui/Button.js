"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("./extends-023d783e.js"),slicedToArray=require("./slicedToArray-a8a77f0e.js"),objectWithoutProperties=require("./objectWithoutProperties-c6d3675c.js"),_styled=require("styled-components"),React=require("react"),index=require("./index-37353731.js"),index$1=require("./index-c33eeeef.js"),Layout=require("./Layout.js"),ButtonBase=require("./ButtonBase.js"),environment=require("./environment.js"),Theme=require("./Theme.js"),css=require("./css.js"),textStyles=require("./text-styles.js"),constants=require("./constants.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-1b94f6bc.js"),require("./unsupportedIterableToArray-f175acfa.js"),require("./defineProperty-3cad0327.js"),require("./Viewport-71f7efe6.js"),require("./getPrototypeOf-55c9e80c.js"),require("./_baseGetTag-6ec23aaa.js"),require("./breakpoints.js"),require("./FocusVisible.js"),require("./keycodes.js"),require("./miscellaneous.js"),require("./theme-dark.js"),require("./theme-light.js"),require("./color.js"),require("./toConsumableArray-cc0d28a9.js"),require("./font.js");var _styled__default=_interopDefaultLegacy(_styled),React__default=_interopDefaultLegacy(React),SIZE_STYLES={medium:{textStyleName:"body2",height:5*constants.GU,padding:3*constants.GU,iconPadding:2*constants.GU,minWidth:14.5*constants.GU,middleSpace:1*constants.GU},small:{textStyleName:"body2",height:4*constants.GU,padding:2*constants.GU,iconPadding:1.5*constants.GU,minWidth:13*constants.GU,middleSpace:1*constants.GU},mini:{textStyleName:"body4",height:3*constants.GU,padding:1.5*constants.GU,iconPadding:1*constants.GU,minWidth:9.25*constants.GU,middleSpace:.5*constants.GU}};function getPadding(e,t,n){var o=SIZE_STYLES[e],a=o.padding,i=o.iconPadding;return t&&!n?"0":t&&n?"0 ".concat(a,"px 0 ").concat(i,"px"):"0 ".concat(a,"px")}function getWidth(e,t,n){var o=SIZE_STYLES[e].height;return n?"100%":t?"".concat(o,"px"):"auto"}function getMinWidth(e,t){var n=SIZE_STYLES[e].minWidth;return t?"".concat(n,"px"):"0"}function sizeStyles(e,t,n,o){var a=SIZE_STYLES[e],i=a.height,r=a.textStyleName,s=a.middleSpace;return{height:"".concat(i,"px"),middleSpace:n&&o?"".concat(s,"px"):"0",minWidth:getMinWidth(e,!n&&o),padding:getPadding(e,n,o),textStyleCss:textStyles.textStyle(r),width:getWidth(e,n&&!o,t)}}function modeStyles(e,t,n){return n?{background:e.disabled,color:e.disabledContent,iconColor:e.disabledContent,border:"0"}:"strong"===t?{background:"\n        linear-gradient(\n          190deg,\n          ".concat(e.accentStart," -100%,\n          ").concat(e.accentEnd," 80%\n        )\n      "),color:e.accentContent,iconColor:e.accentContent,border:"0"}:"positive"===t?{background:e.positive,color:e.positiveContent,iconColor:e.positiveContent,border:"0"}:"negative"===t?{background:e.negative,color:e.negativeContent,iconColor:e.negativeContent,border:"0"}:{background:e.surfaceInteractive,color:e.surfaceContent,iconColor:e.surfaceIcon,border:"1px solid ".concat(e.border)}}var _StyledButtonBase=_styled__default.default(ButtonBase.default).withConfig({displayName:"Button___StyledButtonBase",componentId:"sc-8npd5h-0"})(["display:",";align-items:center;justify-content:center;width:",";height:",";min-width:",";padding:",";",";",";background:",";color:",";white-space:nowrap;border:",";box-shadow:",";transition-property:transform,box-shadow;transition-duration:50ms;transition-timing-function:ease-in-out;&:active{transform:",";box-shadow:",";}"],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}),(function(e){return e._css5}),(function(e){return e._css6}),css.unselectable,(function(e){return e._css7}),(function(e){return e._css8}),(function(e){return e._css9}),(function(e){return e._css10}),(function(e){return e._css11}),(function(e){return e._css12})),_StyledSpan=_styled__default.default("span").withConfig({displayName:"Button___StyledSpan",componentId:"sc-8npd5h-1"})(["position:relative;top:-1px;display:flex;color:",";margin-right:",";"],(function(e){return e._css13}),(function(e){return e._css14}));function Button(e){var t=e.children,n=e.disabled,o=e.display,a=e.icon,i=e.iconOnly,r=e.innerRef,s=e.label,c=e.mode,d=e.size,u=e.wide,l=objectWithoutProperties.objectWithoutProperties(e,["children","disabled","display","icon","iconOnly","innerRef","label","mode","size","wide"]);i&&(environment.warnOnce("Button:iconOnly",'Button: "iconOnly" is deprecated, please use "display".'),o="icon"),"outline"!==c&&"secondary"!==c||(environment.warnOnce("Button:mode",'Button: the mode "'.concat(c,'" is deprecated, please use "normal".')),c="normal"),"normal"!==d&&"large"!==d||(environment.warnOnce("Button:size",'Button: the size "'.concat(d,'" is deprecated, please use "medium".')),d="medium"),"icon"!==o||a||environment.warn('Button: the display "icon" was used without providing an icon.'),t||s||environment.warn("Button: please provide a label.");var p=Theme.useTheme(),f=Layout.useLayout().layoutName,_=index$1.o("EmptyStateCard"),m=slicedToArray.slicedToArray(_,1)[0],y=index$1.o("Header:secondary"),g=slicedToArray.slicedToArray(y,1)[0];m&&(c="strong",u=!0),g&&"auto"===o&&a&&s&&(o="small"===f?"icon":"label"),"auto"===o&&(o="all");var h=a&&("all"===o||"icon"===o),x=s&&("all"===o||"label"===o),b=React.useMemo((function(){return modeStyles(p,c,n)}),[c,p,n]),S=b.background,v=b.color,B=b.iconColor,j=b.border,R=React.useMemo((function(){return sizeStyles(d,u,h,x)}),[d,u,h,x]),q=R.height,T=R.middleSpace,w=R.minWidth,C=R.padding,E=R.textStyleCss,W=R.width;h&&!x&&s&&"string"==typeof s&&(l.title=s);var G={size:d};return React__default.default.createElement(_StyledButtonBase,_extends._extends_1({ref:r,focusRingSpacing:"0"===j?0:1,focusRingRadius:constants.RADIUS,disabled:n},l,{_css:u?"flex":"inline-flex",_css2:W,_css3:q,_css4:w,_css5:C,_css6:E,_css7:S,_css8:v,_css9:j,_css10:n?"none":"0 1px 3px rgba(0, 0, 0, 0.1)",_css11:n?"none":"translateY(1px)",_css12:n?"none":"0px 1px 2px rgba(0, 0, 0, 0.08)"}),React__default.default.createElement(index$1.i,{name:"Button",data:G},t||React__default.default.createElement(React__default.default.Fragment,null,h&&React__default.default.createElement(index$1.i,{name:"Button:icon",data:G},React__default.default.createElement(_StyledSpan,{_css13:B,_css14:T},a)),x&&React__default.default.createElement(index$1.i,{name:"Button:label",data:G},s))))}Button.propTypes={children:index.propTypes.node,disabled:index.propTypes.bool,display:index.propTypes.oneOf(["auto","all","icon","label"]),icon:index.propTypes.node,innerRef:index.propTypes.any,label:index.propTypes.string,mode:index.propTypes.oneOf(["normal","strong","positive","negative","outline","secondary","text"]),size:index.propTypes.oneOf(["medium","small","mini","large","normal"]),wide:index.propTypes.bool,iconOnly:index.propTypes.bool},Button.defaultProps={disabled:!1,display:"auto",mode:"normal",size:"medium",wide:!1};var ButtonWithRef=React__default.default.forwardRef((function(e,t){return React__default.default.createElement(Button,_extends._extends_1({innerRef:t},e))}));ButtonWithRef.Anchor=React__default.default.forwardRef((function(e,t){return environment.warnOnce("Button.Anchor","Button.Anchor is deprecated: please use Button with a href prop instead."),React__default.default.createElement(ButtonWithRef,_extends._extends_1({ref:t},e))})),exports.default=ButtonWithRef;