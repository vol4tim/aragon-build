"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("./extends-023d783e.js"),objectWithoutProperties=require("./objectWithoutProperties-c6d3675c.js"),getPrototypeOf=require("./getPrototypeOf-55c9e80c.js"),defineProperty=require("./defineProperty-3cad0327.js"),_styled=require("styled-components"),React=require("react"),index=require("./index-37353731.js"),web=require("./web-46d746d6.js"),FocusVisible=require("./FocusVisible.js"),Theme=require("./Theme.js"),springs=require("./springs.js"),constants=require("./constants.js"),miscellaneous=require("./miscellaneous.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-1b94f6bc.js"),require("./objectWithoutPropertiesLoose-1af20ad0.js"),require("react-dom"),require("./slicedToArray-a8a77f0e.js"),require("./unsupportedIterableToArray-f175acfa.js"),require("./theme-dark.js"),require("./theme-light.js"),require("./environment.js"),require("./color.js"),require("./toConsumableArray-cc0d28a9.js");var _styled__default=_interopDefaultLegacy(_styled),React__default=_interopDefaultLegacy(React);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=getPrototypeOf.getPrototypeOf(e);if(t){var o=getPrototypeOf.getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return getPrototypeOf.possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var SIZE=18,CHECKBOX_RADIUS=2,RADIO_BULLET_SIZE=10,_StyledAnimatedSpan=_styled__default.default(web.extendedAnimated.span).withConfig({displayName:"Checkbox___StyledAnimatedSpan",componentId:"sc-1avgrx5-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;transform-origin:50% 50%;"]),_StyledButton=_styled__default.default("button").withConfig({displayName:"Checkbox___StyledButton",componentId:"sc-1avgrx5-1"})(["display:inline-flex;position:relative;width:","px;height:","px;margin:","px;padding:0;background:",";border:1px solid ",";border-radius:",";outline:0;&::-moz-focus-inner{border:0;}",";"],SIZE,SIZE,(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3}),(function(e){return e._css4}),(function(e){return e._css5})),_StyledSpan=_styled__default.default("span").withConfig({displayName:"Checkbox___StyledSpan",componentId:"sc-1avgrx5-2"})(["position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;border:2px solid ",";border-radius:",";display:none;"],(function(e){return e._css6}),(function(e){return e._css7})),Checkbox=function(e){getPrototypeOf.inherits(r,e);var t=_createSuper(r);function r(){var e;getPrototypeOf.classCallCheck(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"_element",React__default.default.createRef()),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"handleKeyPress",(function(e){e.preventDefault()})),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"handleClick",(function(t){var r=e.props,n=r.onChange,o=r.checked;n(!r.indeterminate&&!o)})),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"focus",(function(){e._element.current.focus()})),e}return getPrototypeOf.createClass(r,[{key:"getAriaChecked",value:function(){var e=this.props,t=e.checked;return e.indeterminate?"mixed":t?"true":"false"}},{key:"renderCheck",value:function(e,t){var r=this.props,n=r.disabled,o=r.theme;return React__default.default.createElement(web.Spring,{from:{progress:0},to:{progress:Number(e)},config:springs.springs.instant,native:!0},(function(e){var r=e.progress;return React__default.default.createElement(_StyledAnimatedSpan,{style:{opacity:r,transform:r.interpolate((function(e){return"scale(".concat(e,")")}))}},React__default.default.createElement(t,{color:n?o.selectedDisabled:o.selected}))}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.checked,n=t.disabled,o=t.indeterminate,a=t.tabIndex,i=t.theme,s=t.variant,c=objectWithoutProperties.objectWithoutProperties(t,["checked","disabled","indeterminate","tabIndex","theme","variant"]);return React__default.default.createElement(FocusVisible.default,null,(function(t){var d=t.focusVisible,l=t.onFocus;return React__default.default.createElement(_StyledButton,_extends._extends_1({type:"button",ref:e._element,role:s,tabIndex:a,"aria-checked":e.getAriaChecked(),onClick:e.handleClick,onKeyPress:e.handleKeyPress,onFocus:l,disabled:n},c,{_css:.5*constants.GU,_css2:n?i.controlDisabled:i.control,_css3:i.controlBorder,_css4:"radio"===s?"50%":"".concat(CHECKBOX_RADIUS,"px"),_css5:n?"":"\n                    cursor: pointer;\n                    &:active {\n                      border-color: ".concat(i.controlBorderPressed,";\n                    }\n                    &:focus .focus-ring {\n                      display: ").concat(d?"block":"none",";\n                    }\n                  ")}),"checkbox"===s&&e.renderCheck(r&&!o,Check),"checkbox"===s&&e.renderCheck(o,Dash),"radio"===s&&e.renderCheck(r,Bullet),React__default.default.createElement(_StyledSpan,{className:"focus-ring",_css6:i.focus,_css7:"radio"===s?"50%":"".concat(constants.RADIUS,"px")}))}))}}]),r}(React__default.default.PureComponent);defineProperty.defineProperty(Checkbox,"propTypes",{checked:index.propTypes.bool,disabled:index.propTypes.bool,indeterminate:index.propTypes.bool,onChange:index.propTypes.func,tabIndex:index.propTypes.string,theme:index.propTypes.object,variant:index.propTypes.oneOf(["checkbox","radio"])}),defineProperty.defineProperty(Checkbox,"defaultProps",{checked:!1,disabled:!1,indeterminate:!1,onChange:miscellaneous.noop,tabIndex:"0",variant:"checkbox"});var Dash=function(e){var t=e.color;return React__default.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},React__default.default.createElement("line",{x1:"3",y1:"7",x2:"11",y2:"7",stroke:t,strokeWidth:"1.5"}))},Check=function(e){var t=e.color;return React__default.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8"},React__default.default.createElement("path",{d:"\n        M11.059 1.393\n        L4.335  7.395\n        L0.944  3.260\n        L2.104  2.309\n        L4.503  5.234\n        L10.060 0.274\n        L11.059 1.393\n        Z\n      ",fill:t}))},_StyledSpan2=_styled__default.default("span").withConfig({displayName:"Checkbox___StyledSpan2",componentId:"sc-1avgrx5-3"})(["display:block;width:","px;height:","px;border-radius:50%;background:",";"],RADIO_BULLET_SIZE,RADIO_BULLET_SIZE,(function(e){return e._css8})),Bullet=function(e){var t=e.color;return React__default.default.createElement(_StyledSpan2,{_css8:t})},CheckBoxWithTheme=React__default.default.forwardRef((function(e,t){var r=Theme.useTheme();return React__default.default.createElement(Checkbox,_extends._extends_1({theme:r,ref:t},e))}));exports.default=CheckBoxWithTheme;