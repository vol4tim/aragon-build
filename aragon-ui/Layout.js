"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("./extends-023d783e.js"),objectWithoutProperties=require("./objectWithoutProperties-c6d3675c.js"),defineProperty=require("./defineProperty-3cad0327.js"),slicedToArray=require("./slicedToArray-a8a77f0e.js"),_styled=require("styled-components"),React=require("react"),index=require("./index-37353731.js"),Viewport=require("./Viewport-71f7efe6.js"),constants=require("./constants.js"),css=require("./css.js"),breakpoints=require("./breakpoints.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./_commonjsHelpers-1b94f6bc.js"),require("./unsupportedIterableToArray-f175acfa.js"),require("./getPrototypeOf-55c9e80c.js"),require("./_baseGetTag-6ec23aaa.js");var _styled__default=_interopDefaultLegacy(_styled),React__default=_interopDefaultLegacy(React);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){defineProperty.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function getSizes(e){return Object.entries(e).filter((function(e){return"min"!==slicedToArray.slicedToArray(e,1)[0]})).sort((function(e,t){return e[1]-t[1]}))}var breakpointsType=index.propTypes.shape({min:index.propTypes.number,small:index.propTypes.number,medium:index.propTypes.number,large:index.propTypes.number}),MIN_MARGIN=3*constants.GU;function getLayoutSize(e,t){for(var r=getSizes(t),o=r.length;o--;)if(e>=r[o][1])return[r[o][0],r[o][1]-(0===o?0:2*MIN_MARGIN)];return r[0]}function useMergeBreakpoints(e){var t=JSON.stringify(e);return React.useMemo((function(){return _objectSpread(_objectSpread({},breakpoints.BREAKPOINTS),e)}),[t])}var LayoutContext=React__default.default.createContext({});function useLayout(){var e=React.useContext(LayoutContext),t=e.layoutWidth,r=e.layoutName;return{layoutName:r,layoutWidth:t,name:r,width:t}}function Layout(e){var t=e.breakpoints,r=e.children,o=e.paddingBottom,n=e.parentWidth,i=objectWithoutProperties.objectWithoutProperties(e,["breakpoints","children","paddingBottom","parentWidth"]),a=useMergeBreakpoints(t);return React__default.default.createElement(LayoutProvider,{parentWidth:n,breakpoints:t},React__default.default.createElement(LayoutWidthLimiter,_extends._extends_1({minWidth:a.min,paddingBottom:o},i),r))}function LayoutProvider(e){var t=e.breakpoints,r=e.children,o=e.parentWidth,n=Viewport.useViewport().width,i=useMergeBreakpoints(t),a=React.useMemo((function(){return getLayoutSize(void 0===o?n:o,i)}),[n,o,i]),s=slicedToArray.slicedToArray(a,2),u=s[0],p=s[1];return React__default.default.createElement(LayoutContext.Provider,{value:{layoutWidth:p,layoutName:u}},r)}Layout.propTypes={breakpoints:breakpointsType,children:index.propTypes.node,paddingBottom:index.propTypes.oneOfType([index.propTypes.number,index.propTypes.string]),parentWidth:index.propTypes.number},Layout.defaultProps={breakpoints:{},paddingBottom:3*constants.GU},LayoutProvider.propTypes={breakpoints:breakpointsType,children:index.propTypes.node,parentWidth:index.propTypes.number},LayoutProvider.defaultProps={breakpoints:{}};var _StyledDiv=_styled__default.default("div").withConfig({displayName:"Layout___StyledDiv",componentId:"sc-16bvfls-0"})(["width:",";min-width:","px;margin:0 auto;padding-bottom:",";"],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3}));function LayoutWidthLimiter(e){var t=e.children,r=e.minWidth,o=e.paddingBottom,n=objectWithoutProperties.objectWithoutProperties(e,["children","minWidth","paddingBottom"]),i=useLayout(),a=i.layoutName,s=i.layoutWidth;return React__default.default.createElement(_StyledDiv,_extends._extends_1({},n,{_css:"small"===a?"auto":"".concat(s,"px"),_css2:r,_css3:css.cssPx(o)}),t)}exports.LayoutProvider=LayoutProvider,exports.default=Layout,exports.useLayout=useLayout;