"use strict";var getPrototypeOf=require("./getPrototypeOf-55c9e80c.js"),defineProperty=require("./defineProperty-3cad0327.js"),React=require("react"),index=require("./index-37353731.js"),getDisplayName=require("./getDisplayName-7f913e84.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var React__default=_interopDefaultLegacy(React);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,a=getPrototypeOf.getPrototypeOf(e);if(t){var n=getPrototypeOf.getPrototypeOf(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return getPrototypeOf.possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Redraw=function(e){getPrototypeOf.inherits(r,e);var t=_createSuper(r);function r(){var e;getPrototypeOf.classCallCheck(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"state",{lastDraw:-1}),defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(e),"draw",(function(){e.raf=requestAnimationFrame(e.draw);var t=e.props.interval,r=e.state.lastDraw,a=Date.now();(-1===r||a-r>t)&&e.setState({lastDraw:Math.round(a/t)*t})})),e}return getPrototypeOf.createClass(r,[{key:"componentDidMount",value:function(){this.raf=null,this.draw()}},{key:"componentWillUnmount",value:function(){this.raf&&cancelAnimationFrame(this.raf)}},{key:"render",value:function(){return this.props.children()}}]),r}(React__default.default.PureComponent);defineProperty.defineProperty(Redraw,"propTypes",{interval:index.propTypes.number,children:index.propTypes.func.isRequired}),defineProperty.defineProperty(Redraw,"defaultProps",{interval:1e3});var hocWrap=function(e,t){var r=function(r){return React__default.default.createElement(Redraw,{interval:t},(function(){return React__default.default.createElement(e,r)}))};return r.displayName="Redraw(".concat(getDisplayName.getDisplayName(e),")"),r};Redraw.hocWrap=hocWrap,exports.Redraw=Redraw;